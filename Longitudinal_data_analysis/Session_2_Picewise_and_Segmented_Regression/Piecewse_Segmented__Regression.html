<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="author" content="Juan R Gonzalez" />


<title>Picewise and segmented regression with R</title>

<link href="data:text/css;charset=utf-8,pre%20%2Eoperator%2C%0Apre%20%2Eparen%20%7B%0Acolor%3A%20rgb%28104%2C%20118%2C%20135%29%0A%7D%0Apre%20%2Eliteral%20%7B%0Acolor%3A%20%23990073%0A%7D%0Apre%20%2Enumber%20%7B%0Acolor%3A%20%23099%3B%0A%7D%0Apre%20%2Ecomment%20%7B%0Acolor%3A%20%23998%3B%0Afont%2Dstyle%3A%20italic%0A%7D%0Apre%20%2Ekeyword%20%7B%0Acolor%3A%20%23900%3B%0Afont%2Dweight%3A%20bold%0A%7D%0Apre%20%2Eidentifier%20%7B%0Acolor%3A%20rgb%280%2C%200%2C%200%29%3B%0A%7D%0Apre%20%2Estring%20%7B%0Acolor%3A%20%23d14%3B%0A%7D%0A" rel="stylesheet" />
<script src="data:application/x-javascript;base64,dmFyIGhsanM9bmV3IGZ1bmN0aW9uKCl7ZnVuY3Rpb24gbShwKXtyZXR1cm4gcC5yZXBsYWNlKC8mL2dtLCImYW1wOyIpLnJlcGxhY2UoLzwvZ20sIiZsdDsiKX1mdW5jdGlvbiBmKHIscSxwKXtyZXR1cm4gUmVnRXhwKHEsIm0iKyhyLmNJPyJpIjoiIikrKHA/ImciOiIiKSl9ZnVuY3Rpb24gYihyKXtmb3IodmFyIHA9MDtwPHIuY2hpbGROb2Rlcy5sZW5ndGg7cCsrKXt2YXIgcT1yLmNoaWxkTm9kZXNbcF07aWYocS5ub2RlTmFtZT09IkNPREUiKXtyZXR1cm4gcX1pZighKHEubm9kZVR5cGU9PTMmJnEubm9kZVZhbHVlLm1hdGNoKC9ccysvKSkpe2JyZWFrfX19ZnVuY3Rpb24gaCh0LHMpe3ZhciBwPSIiO2Zvcih2YXIgcj0wO3I8dC5jaGlsZE5vZGVzLmxlbmd0aDtyKyspe2lmKHQuY2hpbGROb2Rlc1tyXS5ub2RlVHlwZT09Myl7dmFyIHE9dC5jaGlsZE5vZGVzW3JdLm5vZGVWYWx1ZTtpZihzKXtxPXEucmVwbGFjZSgvXG4vZywiIil9cCs9cX1lbHNle2lmKHQuY2hpbGROb2Rlc1tyXS5ub2RlTmFtZT09IkJSIil7cCs9IlxuIn1lbHNle3ArPWgodC5jaGlsZE5vZGVzW3JdKX19fWlmKC9NU0lFIFs2NzhdLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKXtwPXAucmVwbGFjZSgvXHIvZywiXG4iKX1yZXR1cm4gcH1mdW5jdGlvbiBhKHMpe3ZhciByPXMuY2xhc3NOYW1lLnNwbGl0KC9ccysvKTtyPXIuY29uY2F0KHMucGFyZW50Tm9kZS5jbGFzc05hbWUuc3BsaXQoL1xzKy8pKTtmb3IodmFyIHE9MDtxPHIubGVuZ3RoO3ErKyl7dmFyIHA9cltxXS5yZXBsYWNlKC9ebGFuZ3VhZ2UtLywiIik7aWYoZVtwXSl7cmV0dXJuIHB9fX1mdW5jdGlvbiBjKHEpe3ZhciBwPVtdOyhmdW5jdGlvbihzLHQpe2Zvcih2YXIgcj0wO3I8cy5jaGlsZE5vZGVzLmxlbmd0aDtyKyspe2lmKHMuY2hpbGROb2Rlc1tyXS5ub2RlVHlwZT09Myl7dCs9cy5jaGlsZE5vZGVzW3JdLm5vZGVWYWx1ZS5sZW5ndGh9ZWxzZXtpZihzLmNoaWxkTm9kZXNbcl0ubm9kZU5hbWU9PSJCUiIpe3QrPTF9ZWxzZXtpZihzLmNoaWxkTm9kZXNbcl0ubm9kZVR5cGU9PTEpe3AucHVzaCh7ZXZlbnQ6InN0YXJ0IixvZmZzZXQ6dCxub2RlOnMuY2hpbGROb2Rlc1tyXX0pO3Q9YXJndW1lbnRzLmNhbGxlZShzLmNoaWxkTm9kZXNbcl0sdCk7cC5wdXNoKHtldmVudDoic3RvcCIsb2Zmc2V0OnQsbm9kZTpzLmNoaWxkTm9kZXNbcl19KX19fX1yZXR1cm4gdH0pKHEsMCk7cmV0dXJuIHB9ZnVuY3Rpb24gayh5LHcseCl7dmFyIHE9MDt2YXIgej0iIjt2YXIgcz1bXTtmdW5jdGlvbiB1KCl7aWYoeS5sZW5ndGgmJncubGVuZ3RoKXtpZih5WzBdLm9mZnNldCE9d1swXS5vZmZzZXQpe3JldHVybih5WzBdLm9mZnNldDx3WzBdLm9mZnNldCk/eTp3fWVsc2V7cmV0dXJuIHdbMF0uZXZlbnQ9PSJzdGFydCI/eTp3fX1lbHNle3JldHVybiB5Lmxlbmd0aD95Ond9fWZ1bmN0aW9uIHQoRCl7dmFyIEE9IjwiK0Qubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtmb3IodmFyIEI9MDtCPEQuYXR0cmlidXRlcy5sZW5ndGg7QisrKXt2YXIgQz1ELmF0dHJpYnV0ZXNbQl07QSs9IiAiK0Mubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtpZihDLnZhbHVlIT09dW5kZWZpbmVkJiZDLnZhbHVlIT09ZmFsc2UmJkMudmFsdWUhPT1udWxsKXtBKz0nPSInK20oQy52YWx1ZSkrJyInfX1yZXR1cm4gQSsiPiJ9d2hpbGUoeS5sZW5ndGh8fHcubGVuZ3RoKXt2YXIgdj11KCkuc3BsaWNlKDAsMSlbMF07eis9bSh4LnN1YnN0cihxLHYub2Zmc2V0LXEpKTtxPXYub2Zmc2V0O2lmKHYuZXZlbnQ9PSJzdGFydCIpe3orPXQodi5ub2RlKTtzLnB1c2godi5ub2RlKX1lbHNle2lmKHYuZXZlbnQ9PSJzdG9wIil7dmFyIHAscj1zLmxlbmd0aDtkb3tyLS07cD1zW3JdO3orPSgiPC8iK3Aubm9kZU5hbWUudG9Mb3dlckNhc2UoKSsiPiIpfXdoaWxlKHAhPXYubm9kZSk7cy5zcGxpY2UociwxKTt3aGlsZShyPHMubGVuZ3RoKXt6Kz10KHNbcl0pO3IrK319fX1yZXR1cm4geittKHguc3Vic3RyKHEpKX1mdW5jdGlvbiBqKCl7ZnVuY3Rpb24gcSh4LHksdil7aWYoeC5jb21waWxlZCl7cmV0dXJufXZhciB1O3ZhciBzPVtdO2lmKHguayl7eC5sUj1mKHkseC5sfHxobGpzLklSLHRydWUpO2Zvcih2YXIgdyBpbiB4Lmspe2lmKCF4LmsuaGFzT3duUHJvcGVydHkodykpe2NvbnRpbnVlfWlmKHgua1t3XSBpbnN0YW5jZW9mIE9iamVjdCl7dT14Lmtbd119ZWxzZXt1PXguazt3PSJrZXl3b3JkIn1mb3IodmFyIHIgaW4gdSl7aWYoIXUuaGFzT3duUHJvcGVydHkocikpe2NvbnRpbnVlfXgua1tyXT1bdyx1W3JdXTtzLnB1c2gocil9fX1pZighdil7aWYoeC5iV0spe3guYj0iXFxiKCIrcy5qb2luKCJ8IikrIilcXHMifXguYlI9Zih5LHguYj94LmI6IlxcQnxcXGIiKTtpZigheC5lJiYheC5lVyl7eC5lPSJcXEJ8XFxiIn1pZih4LmUpe3guZVI9Zih5LHguZSl9fWlmKHguaSl7eC5pUj1mKHkseC5pKX1pZih4LnI9PT11bmRlZmluZWQpe3gucj0xfWlmKCF4LmMpe3guYz1bXX14LmNvbXBpbGVkPXRydWU7Zm9yKHZhciB0PTA7dDx4LmMubGVuZ3RoO3QrKyl7aWYoeC5jW3RdPT0ic2VsZiIpe3guY1t0XT14fXEoeC5jW3RdLHksZmFsc2UpfWlmKHguc3RhcnRzKXtxKHguc3RhcnRzLHksZmFsc2UpfX1mb3IodmFyIHAgaW4gZSl7aWYoIWUuaGFzT3duUHJvcGVydHkocCkpe2NvbnRpbnVlfXEoZVtwXS5kTSxlW3BdLHRydWUpfX1mdW5jdGlvbiBkKEIsQyl7aWYoIWouY2FsbGVkKXtqKCk7ai5jYWxsZWQ9dHJ1ZX1mdW5jdGlvbiBxKHIsTSl7Zm9yKHZhciBMPTA7TDxNLmMubGVuZ3RoO0wrKyl7aWYoKE0uY1tMXS5iUi5leGVjKHIpfHxbbnVsbF0pWzBdPT1yKXtyZXR1cm4gTS5jW0xdfX19ZnVuY3Rpb24gdihMLHIpe2lmKERbTF0uZSYmRFtMXS5lUi50ZXN0KHIpKXtyZXR1cm4gMX1pZihEW0xdLmVXKXt2YXIgTT12KEwtMSxyKTtyZXR1cm4gTT9NKzE6MH1yZXR1cm4gMH1mdW5jdGlvbiB3KHIsTCl7cmV0dXJuIEwuaSYmTC5pUi50ZXN0KHIpfWZ1bmN0aW9uIEsoTixPKXt2YXIgTT1bXTtmb3IodmFyIEw9MDtMPE4uYy5sZW5ndGg7TCsrKXtNLnB1c2goTi5jW0xdLmIpfXZhciByPUQubGVuZ3RoLTE7ZG97aWYoRFtyXS5lKXtNLnB1c2goRFtyXS5lKX1yLS19d2hpbGUoRFtyKzFdLmVXKTtpZihOLmkpe00ucHVzaChOLmkpfXJldHVybiBmKE8sTS5qb2luKCJ8IiksdHJ1ZSl9ZnVuY3Rpb24gcChNLEwpe3ZhciBOPURbRC5sZW5ndGgtMV07aWYoIU4udCl7Ti50PUsoTixFKX1OLnQubGFzdEluZGV4PUw7dmFyIHI9Ti50LmV4ZWMoTSk7cmV0dXJuIHI/W00uc3Vic3RyKEwsci5pbmRleC1MKSxyWzBdLGZhbHNlXTpbTS5zdWJzdHIoTCksIiIsdHJ1ZV19ZnVuY3Rpb24geihOLHIpe3ZhciBMPUUuY0k/clswXS50b0xvd2VyQ2FzZSgpOnJbMF07dmFyIE09Ti5rW0xdO2lmKE0mJk0gaW5zdGFuY2VvZiBBcnJheSl7cmV0dXJuIE19cmV0dXJuIGZhbHNlfWZ1bmN0aW9uIEYoTCxQKXtMPW0oTCk7aWYoIVAuayl7cmV0dXJuIEx9dmFyIHI9IiI7dmFyIE89MDtQLmxSLmxhc3RJbmRleD0wO3ZhciBNPVAubFIuZXhlYyhMKTt3aGlsZShNKXtyKz1MLnN1YnN0cihPLE0uaW5kZXgtTyk7dmFyIE49eihQLE0pO2lmKE4pe3grPU5bMV07cis9JzxzcGFuIGNsYXNzPSInK05bMF0rJyI+JytNWzBdKyI8L3NwYW4+In1lbHNle3IrPU1bMF19Tz1QLmxSLmxhc3RJbmRleDtNPVAubFIuZXhlYyhMKX1yZXR1cm4gcitMLnN1YnN0cihPLEwubGVuZ3RoLU8pfWZ1bmN0aW9uIEooTCxNKXtpZihNLnNMJiZlW00uc0xdKXt2YXIgcj1kKE0uc0wsTCk7eCs9ci5rZXl3b3JkX2NvdW50O3JldHVybiByLnZhbHVlfWVsc2V7cmV0dXJuIEYoTCxNKX19ZnVuY3Rpb24gSShNLHIpe3ZhciBMPU0uY04/JzxzcGFuIGNsYXNzPSInK00uY04rJyI+JzoiIjtpZihNLnJCKXt5Kz1MO00uYnVmZmVyPSIifWVsc2V7aWYoTS5lQil7eSs9bShyKStMO00uYnVmZmVyPSIifWVsc2V7eSs9TDtNLmJ1ZmZlcj1yfX1ELnB1c2goTSk7QSs9TS5yfWZ1bmN0aW9uIEcoTixNLFEpe3ZhciBSPURbRC5sZW5ndGgtMV07aWYoUSl7eSs9SihSLmJ1ZmZlcitOLFIpO3JldHVybiBmYWxzZX12YXIgUD1xKE0sUik7aWYoUCl7eSs9SihSLmJ1ZmZlcitOLFIpO0koUCxNKTtyZXR1cm4gUC5yQn12YXIgTD12KEQubGVuZ3RoLTEsTSk7aWYoTCl7dmFyIE89Ui5jTj8iPC9zcGFuPiI6IiI7aWYoUi5yRSl7eSs9SihSLmJ1ZmZlcitOLFIpK099ZWxzZXtpZihSLmVFKXt5Kz1KKFIuYnVmZmVyK04sUikrTyttKE0pfWVsc2V7eSs9SihSLmJ1ZmZlcitOK00sUikrT319d2hpbGUoTD4xKXtPPURbRC5sZW5ndGgtMl0uY04/Ijwvc3Bhbj4iOiIiO3krPU87TC0tO0QubGVuZ3RoLS19dmFyIHI9RFtELmxlbmd0aC0xXTtELmxlbmd0aC0tO0RbRC5sZW5ndGgtMV0uYnVmZmVyPSIiO2lmKHIuc3RhcnRzKXtJKHIuc3RhcnRzLCIiKX1yZXR1cm4gUi5yRX1pZih3KE0sUikpe3Rocm93IklsbGVnYWwifX12YXIgRT1lW0JdO3ZhciBEPVtFLmRNXTt2YXIgQT0wO3ZhciB4PTA7dmFyIHk9IiI7dHJ5e3ZhciBzLHU9MDtFLmRNLmJ1ZmZlcj0iIjtkb3tzPXAoQyx1KTt2YXIgdD1HKHNbMF0sc1sxXSxzWzJdKTt1Kz1zWzBdLmxlbmd0aDtpZighdCl7dSs9c1sxXS5sZW5ndGh9fXdoaWxlKCFzWzJdKTtpZihELmxlbmd0aD4xKXt0aHJvdyJJbGxlZ2FsIn1yZXR1cm57cjpBLGtleXdvcmRfY291bnQ6eCx2YWx1ZTp5fX1jYXRjaChIKXtpZihIPT0iSWxsZWdhbCIpe3JldHVybntyOjAsa2V5d29yZF9jb3VudDowLHZhbHVlOm0oQyl9fWVsc2V7dGhyb3cgSH19fWZ1bmN0aW9uIGcodCl7dmFyIHA9e2tleXdvcmRfY291bnQ6MCxyOjAsdmFsdWU6bSh0KX07dmFyIHI9cDtmb3IodmFyIHEgaW4gZSl7aWYoIWUuaGFzT3duUHJvcGVydHkocSkpe2NvbnRpbnVlfXZhciBzPWQocSx0KTtzLmxhbmd1YWdlPXE7aWYocy5rZXl3b3JkX2NvdW50K3Mucj5yLmtleXdvcmRfY291bnQrci5yKXtyPXN9aWYocy5rZXl3b3JkX2NvdW50K3Mucj5wLmtleXdvcmRfY291bnQrcC5yKXtyPXA7cD1zfX1pZihyLmxhbmd1YWdlKXtwLnNlY29uZF9iZXN0PXJ9cmV0dXJuIHB9ZnVuY3Rpb24gaShyLHEscCl7aWYocSl7cj1yLnJlcGxhY2UoL14oKDxbXj5dKz58XHQpKykvZ20sZnVuY3Rpb24odCx3LHYsdSl7cmV0dXJuIHcucmVwbGFjZSgvXHQvZyxxKX0pfWlmKHApe3I9ci5yZXBsYWNlKC9cbi9nLCI8YnI+Iil9cmV0dXJuIHJ9ZnVuY3Rpb24gbih0LHcscil7dmFyIHg9aCh0LHIpO3ZhciB2PWEodCk7dmFyIHkscztpZih2KXt5PWQodix4KX1lbHNle3JldHVybn12YXIgcT1jKHQpO2lmKHEubGVuZ3RoKXtzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInByZSIpO3MuaW5uZXJIVE1MPXkudmFsdWU7eS52YWx1ZT1rKHEsYyhzKSx4KX15LnZhbHVlPWkoeS52YWx1ZSx3LHIpO3ZhciB1PXQuY2xhc3NOYW1lO2lmKCF1Lm1hdGNoKCIoXFxzfF4pKGxhbmd1YWdlLSk/Iit2KyIoXFxzfCQpIikpe3U9dT8odSsiICIrdik6dn1pZigvTVNJRSBbNjc4XS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSYmdC50YWdOYW1lPT0iQ09ERSImJnQucGFyZW50Tm9kZS50YWdOYW1lPT0iUFJFIil7cz10LnBhcmVudE5vZGU7dmFyIHA9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7cC5pbm5lckhUTUw9IjxwcmU+PGNvZGU+Iit5LnZhbHVlKyI8L2NvZGU+PC9wcmU+Ijt0PXAuZmlyc3RDaGlsZC5maXJzdENoaWxkO3AuZmlyc3RDaGlsZC5jTj1zLmNOO3MucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQocC5maXJzdENoaWxkLHMpfWVsc2V7dC5pbm5lckhUTUw9eS52YWx1ZX10LmNsYXNzTmFtZT11O3QucmVzdWx0PXtsYW5ndWFnZTp2LGt3Onkua2V5d29yZF9jb3VudCxyZTp5LnJ9O2lmKHkuc2Vjb25kX2Jlc3Qpe3Quc2Vjb25kX2Jlc3Q9e2xhbmd1YWdlOnkuc2Vjb25kX2Jlc3QubGFuZ3VhZ2Usa3c6eS5zZWNvbmRfYmVzdC5rZXl3b3JkX2NvdW50LHJlOnkuc2Vjb25kX2Jlc3Qucn19fWZ1bmN0aW9uIG8oKXtpZihvLmNhbGxlZCl7cmV0dXJufW8uY2FsbGVkPXRydWU7dmFyIHI9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInByZSIpO2Zvcih2YXIgcD0wO3A8ci5sZW5ndGg7cCsrKXt2YXIgcT1iKHJbcF0pO2lmKHEpe24ocSxobGpzLnRhYlJlcGxhY2UpfX19ZnVuY3Rpb24gbCgpe2lmKHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKXt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsbyxmYWxzZSk7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLG8sZmFsc2UpfWVsc2V7aWYod2luZG93LmF0dGFjaEV2ZW50KXt3aW5kb3cuYXR0YWNoRXZlbnQoIm9ubG9hZCIsbyl9ZWxzZXt3aW5kb3cub25sb2FkPW99fX12YXIgZT17fTt0aGlzLkxBTkdVQUdFUz1lO3RoaXMuaGlnaGxpZ2h0PWQ7dGhpcy5oaWdobGlnaHRBdXRvPWc7dGhpcy5maXhNYXJrdXA9aTt0aGlzLmhpZ2hsaWdodEJsb2NrPW47dGhpcy5pbml0SGlnaGxpZ2h0aW5nPW87dGhpcy5pbml0SGlnaGxpZ2h0aW5nT25Mb2FkPWw7dGhpcy5JUj0iW2EtekEtWl1bYS16QS1aMC05X10qIjt0aGlzLlVJUj0iW2EtekEtWl9dW2EtekEtWjAtOV9dKiI7dGhpcy5OUj0iXFxiXFxkKyhcXC5cXGQrKT8iO3RoaXMuQ05SPSJcXGIoMFt4WF1bYS1mQS1GMC05XSt8KFxcZCsoXFwuXFxkKik/fFxcLlxcZCspKFtlRV1bLStdP1xcZCspPykiO3RoaXMuQk5SPSJcXGIoMGJbMDFdKykiO3RoaXMuUlNSPSIhfCE9fCE9PXwlfCU9fCZ8JiZ8Jj18XFwqfFxcKj18XFwrfFxcKz18LHxcXC58LXwtPXwvfC89fDp8O3w8fDw8fDw8PXw8PXw9fD09fD09PXw+fD49fD4+fD4+PXw+Pj58Pj4+PXxcXD98XFxbfFxce3xcXCh8XFxefFxcXj18XFx8fFxcfD18XFx8XFx8fH4iO3RoaXMuRVI9Iig/IVtcXHNcXFNdKSI7dGhpcy5CRT17YjoiXFxcXC4iLHI6MH07dGhpcy5BU009e2NOOiJzdHJpbmciLGI6IiciLGU6IiciLGk6IlxcbiIsYzpbdGhpcy5CRV0scjowfTt0aGlzLlFTTT17Y046InN0cmluZyIsYjonIicsZTonIicsaToiXFxuIixjOlt0aGlzLkJFXSxyOjB9O3RoaXMuQ0xDTT17Y046ImNvbW1lbnQiLGI6Ii8vIixlOiIkIn07dGhpcy5DQkxDTE09e2NOOiJjb21tZW50IixiOiIvXFwqIixlOiJcXCovIn07dGhpcy5IQ009e2NOOiJjb21tZW50IixiOiIjIixlOiIkIn07dGhpcy5OTT17Y046Im51bWJlciIsYjp0aGlzLk5SLHI6MH07dGhpcy5DTk09e2NOOiJudW1iZXIiLGI6dGhpcy5DTlIscjowfTt0aGlzLkJOTT17Y046Im51bWJlciIsYjp0aGlzLkJOUixyOjB9O3RoaXMuaW5oZXJpdD1mdW5jdGlvbihyLHMpe3ZhciBwPXt9O2Zvcih2YXIgcSBpbiByKXtwW3FdPXJbcV19aWYocyl7Zm9yKHZhciBxIGluIHMpe3BbcV09c1txXX19cmV0dXJuIHB9fSgpO2hsanMuTEFOR1VBR0VTLmJhc2g9ZnVuY3Rpb24oKXt2YXIgZT17InRydWUiOjEsImZhbHNlIjoxfTt2YXIgYj17Y046InZhcmlhYmxlIixiOiJcXCQoW2EtekEtWjAtOV9dKylcXGIifTt2YXIgYT17Y046InZhcmlhYmxlIixiOiJcXCRcXHsoKFtefV0pfChcXFxcfSkpK1xcfSIsYzpbaGxqcy5DTk1dfTt2YXIgZj17Y046InN0cmluZyIsYjonIicsZTonIicsaToiXFxuIixjOltobGpzLkJFLGIsYV0scjowfTt2YXIgYz17Y046InN0cmluZyIsYjoiJyIsZToiJyIsYzpbe2I6IicnIn1dLHI6MH07dmFyIGQ9e2NOOiJ0ZXN0X2NvbmRpdGlvbiIsYjoiIixlOiIiLGM6W2YsYyxiLGEsaGxqcy5DTk1dLGs6e2xpdGVyYWw6ZX0scjowfTtyZXR1cm57ZE06e2s6e2tleXdvcmQ6eyJpZiI6MSx0aGVuOjEsImVsc2UiOjEsZmk6MSwiZm9yIjoxLCJicmVhayI6MSwiY29udGludWUiOjEsIndoaWxlIjoxLCJpbiI6MSwiZG8iOjEsZG9uZToxLGVjaG86MSxleGl0OjEsInJldHVybiI6MSxzZXQ6MSxkZWNsYXJlOjF9LGxpdGVyYWw6ZX0sYzpbe2NOOiJzaGViYW5nIixiOiIoIyFcXC9iaW5cXC9iYXNoKXwoIyFcXC9iaW5cXC9zaCkiLHI6MTB9LGIsYSxobGpzLkhDTSxobGpzLkNOTSxmLGMsaGxqcy5pbmhlcml0KGQse2I6IlxcWyAiLGU6IiBcXF0iLHI6MH0pLGhsanMuaW5oZXJpdChkLHtiOiJcXFtcXFsgIixlOiIgXFxdXFxdIn0pXX19fSgpO2hsanMuTEFOR1VBR0VTLmNwcD1mdW5jdGlvbigpe3ZhciBhPXtrZXl3b3JkOnsiZmFsc2UiOjEsImludCI6MSwiZmxvYXQiOjEsIndoaWxlIjoxLCJwcml2YXRlIjoxLCJjaGFyIjoxLCJjYXRjaCI6MSwiZXhwb3J0IjoxLHZpcnR1YWw6MSxvcGVyYXRvcjoyLHNpemVvZjoyLGR5bmFtaWNfY2FzdDoyLHR5cGVkZWY6Mixjb25zdF9jYXN0OjIsImNvbnN0IjoxLHN0cnVjdDoxLCJmb3IiOjEsc3RhdGljX2Nhc3Q6Mix1bmlvbjoxLG5hbWVzcGFjZToxLHVuc2lnbmVkOjEsImxvbmciOjEsInRocm93IjoxLCJ2b2xhdGlsZSI6Miwic3RhdGljIjoxLCJwcm90ZWN0ZWQiOjEsYm9vbDoxLHRlbXBsYXRlOjEsbXV0YWJsZToxLCJpZiI6MSwicHVibGljIjoxLGZyaWVuZDoyLCJkbyI6MSwicmV0dXJuIjoxLCJnb3RvIjoxLGF1dG86MSwidm9pZCI6MiwiZW51bSI6MSwiZWxzZSI6MSwiYnJlYWsiOjEsIm5ldyI6MSxleHRlcm46MSx1c2luZzoxLCJ0cnVlIjoxLCJjbGFzcyI6MSxhc206MSwiY2FzZSI6MSx0eXBlaWQ6MSwic2hvcnQiOjEscmVpbnRlcnByZXRfY2FzdDoyLCJkZWZhdWx0IjoxLCJkb3VibGUiOjEscmVnaXN0ZXI6MSxleHBsaWNpdDoxLHNpZ25lZDoxLHR5cGVuYW1lOjEsInRyeSI6MSwidGhpcyI6MSwic3dpdGNoIjoxLCJjb250aW51ZSI6MSx3Y2hhcl90OjEsaW5saW5lOjEsImRlbGV0ZSI6MSxhbGlnbm9mOjEsY2hhcjE2X3Q6MSxjaGFyMzJfdDoxLGNvbnN0ZXhwcjoxLGRlY2x0eXBlOjEsbm9leGNlcHQ6MSxudWxscHRyOjEsc3RhdGljX2Fzc2VydDoxLHRocmVhZF9sb2NhbDoxLHJlc3RyaWN0OjEsX0Jvb2w6MSxjb21wbGV4OjF9LGJ1aWx0X2luOntzdGQ6MSxzdHJpbmc6MSxjaW46MSxjb3V0OjEsY2VycjoxLGNsb2c6MSxzdHJpbmdzdHJlYW06MSxpc3RyaW5nc3RyZWFtOjEsb3N0cmluZ3N0cmVhbToxLGF1dG9fcHRyOjEsZGVxdWU6MSxsaXN0OjEscXVldWU6MSxzdGFjazoxLHZlY3RvcjoxLG1hcDoxLHNldDoxLGJpdHNldDoxLG11bHRpc2V0OjEsbXVsdGltYXA6MSx1bm9yZGVyZWRfc2V0OjEsdW5vcmRlcmVkX21hcDoxLHVub3JkZXJlZF9tdWx0aXNldDoxLHVub3JkZXJlZF9tdWx0aW1hcDoxLGFycmF5OjEsc2hhcmVkX3B0cjoxfX07cmV0dXJue2RNOntrOmEsaToiPC8iLGM6W2hsanMuQ0xDTSxobGpzLkNCTENMTSxobGpzLlFTTSx7Y046InN0cmluZyIsYjoiJ1xcXFw/LiIsZToiJyIsaToiLiJ9LHtjTjoibnVtYmVyIixiOiJcXGIoXFxkKyhcXC5cXGQqKT98XFwuXFxkKykodXxVfGx8THx1bHxVTHxmfEYpIn0saGxqcy5DTk0se2NOOiJwcmVwcm9jZXNzb3IiLGI6IiMiLGU6IiQifSx7Y046InN0bF9jb250YWluZXIiLGI6IlxcYihkZXF1ZXxsaXN0fHF1ZXVlfHN0YWNrfHZlY3RvcnxtYXB8c2V0fGJpdHNldHxtdWx0aXNldHxtdWx0aW1hcHx1bm9yZGVyZWRfbWFwfHVub3JkZXJlZF9zZXR8dW5vcmRlcmVkX211bHRpc2V0fHVub3JkZXJlZF9tdWx0aW1hcHxhcnJheSlcXHMqPCIsZToiPiIsazphLHI6MTAsYzpbInNlbGYiXX1dfX19KCk7aGxqcy5MQU5HVUFHRVMuY3NzPWZ1bmN0aW9uKCl7dmFyIGE9e2NOOiJmdW5jdGlvbiIsYjpobGpzLklSKyJcXCgiLGU6IlxcKSIsYzpbe2VXOnRydWUsZUU6dHJ1ZSxjOltobGpzLk5NLGhsanMuQVNNLGhsanMuUVNNXX1dfTtyZXR1cm57Y0k6dHJ1ZSxkTTp7aToiWz0vfCddIixjOltobGpzLkNCTENMTSx7Y046ImlkIixiOiJcXCNbQS1aYS16MC05Xy1dKyJ9LHtjTjoiY2xhc3MiLGI6IlxcLltBLVphLXowLTlfLV0rIixyOjB9LHtjTjoiYXR0cl9zZWxlY3RvciIsYjoiXFxbIixlOiJcXF0iLGk6IiQifSx7Y046InBzZXVkbyIsYjoiOig6KT9bYS16QS1aMC05XFxfXFwtXFwrXFwoXFwpXFxcIlxcJ10rIn0se2NOOiJhdF9ydWxlIixiOiJAKGZvbnQtZmFjZXxwYWdlKSIsbDoiW2Etei1dKyIsazp7ImZvbnQtZmFjZSI6MSxwYWdlOjF9fSx7Y046ImF0X3J1bGUiLGI6IkAiLGU6Ilt7O10iLGVFOnRydWUsazp7ImltcG9ydCI6MSxwYWdlOjEsbWVkaWE6MSxjaGFyc2V0OjF9LGM6W2EsaGxqcy5BU00saGxqcy5RU00saGxqcy5OTV19LHtjTjoidGFnIixiOmhsanMuSVIscjowfSx7Y046InJ1bGVzIixiOiJ7IixlOiJ9IixpOiJbXlxcc10iLHI6MCxjOltobGpzLkNCTENMTSx7Y046InJ1bGUiLGI6IlteXFxzXSIsckI6dHJ1ZSxlOiI7IixlVzp0cnVlLGM6W3tjTjoiYXR0cmlidXRlIixiOiJbQS1aXFxfXFwuXFwtXSsiLGU6IjoiLGVFOnRydWUsaToiW15cXHNdIixzdGFydHM6e2NOOiJ2YWx1ZSIsZVc6dHJ1ZSxlRTp0cnVlLGM6W2EsaGxqcy5OTSxobGpzLlFTTSxobGpzLkFTTSxobGpzLkNCTENMTSx7Y046ImhleGNvbG9yIixiOiJcXCNbMC05QS1GXSsifSx7Y046ImltcG9ydGFudCIsYjoiIWltcG9ydGFudCJ9XX19XX1dfV19fX0oKTtobGpzLkxBTkdVQUdFUy5pbmk9e2NJOnRydWUsZE06e2k6IlteXFxzXSIsYzpbe2NOOiJjb21tZW50IixiOiI7IixlOiIkIn0se2NOOiJ0aXRsZSIsYjoiXlxcWyIsZToiXFxdIn0se2NOOiJzZXR0aW5nIixiOiJeW2EtejAtOV9cXFtcXF1dK1sgXFx0XSo9WyBcXHRdKiIsZToiJCIsYzpbe2NOOiJ2YWx1ZSIsZVc6dHJ1ZSxrOntvbjoxLG9mZjoxLCJ0cnVlIjoxLCJmYWxzZSI6MSx5ZXM6MSxubzoxfSxjOltobGpzLlFTTSxobGpzLk5NXX1dfV19fTtobGpzLkxBTkdVQUdFUy5wZXJsPWZ1bmN0aW9uKCl7dmFyIGQ9e2dldHB3ZW50OjEsZ2V0c2VydmVudDoxLHF1b3RlbWV0YToxLG1zZ3JjdjoxLHNjYWxhcjoxLGtpbGw6MSxkYm1jbG9zZToxLHVuZGVmOjEsbGM6MSxtYToxLHN5c3dyaXRlOjEsdHI6MSxzZW5kOjEsdW1hc2s6MSxzeXNvcGVuOjEsc2htd3JpdGU6MSx2ZWM6MSxxeDoxLHV0aW1lOjEsbG9jYWw6MSxvY3Q6MSxzZW1jdGw6MSxsb2NhbHRpbWU6MSxyZWFkcGlwZToxLCJkbyI6MSwicmV0dXJuIjoxLGZvcm1hdDoxLHJlYWQ6MSxzcHJpbnRmOjEsZGJtb3BlbjoxLHBvcDoxLGdldHBncnA6MSxub3Q6MSxnZXRwd25hbToxLHJld2luZGRpcjoxLHFxOjEsZmlsZW5vOjEscXc6MSxlbmRwcm90b2VudDoxLHdhaXQ6MSxzZXRob3N0ZW50OjEsYmxlc3M6MSxzOjAsb3BlbmRpcjoxLCJjb250aW51ZSI6MSxlYWNoOjEsc2xlZXA6MSxlbmRncmVudDoxLHNodXRkb3duOjEsZHVtcDoxLGNob21wOjEsY29ubmVjdDoxLGdldHNvY2tuYW1lOjEsZGllOjEsc29ja2V0cGFpcjoxLGNsb3NlOjEsZmxvY2s6MSxleGlzdHM6MSxpbmRleDoxLHNobWdldDoxLHN1YjoxLCJmb3IiOjEsZW5kcHdlbnQ6MSxyZWRvOjEsbHN0YXQ6MSxtc2djdGw6MSxzZXRwZ3JwOjEsYWJzOjEsZXhpdDoxLHNlbGVjdDoxLHByaW50OjEscmVmOjEsZ2V0aG9zdGJ5YWRkcjoxLHVuc2hpZnQ6MSxmY250bDoxLHN5c2NhbGw6MSwiZ290byI6MSxnZXRuZXRieWFkZHI6MSxqb2luOjEsZ210aW1lOjEsc3ltbGluazoxLHNlbWdldDoxLHNwbGljZToxLHg6MCxnZXRwZWVybmFtZToxLHJlY3Y6MSxsb2c6MSxzZXRzb2Nrb3B0OjEsY29zOjEsbGFzdDoxLHJldmVyc2U6MSxnZXRob3N0YnluYW1lOjEsZ2V0Z3JuYW06MSxzdHVkeToxLGZvcm1saW5lOjEsZW5kaG9zdGVudDoxLHRpbWVzOjEsY2hvcDoxLGxlbmd0aDoxLGdldGhvc3RlbnQ6MSxnZXRuZXRlbnQ6MSxwYWNrOjEsZ2V0cHJvdG9lbnQ6MSxnZXRzZXJ2YnluYW1lOjEscmFuZDoxLG1rZGlyOjEscG9zOjEsY2htb2Q6MSx5OjAsc3Vic3RyOjEsZW5kbmV0ZW50OjEscHJpbnRmOjEsbmV4dDoxLG9wZW46MSxtc2dzbmQ6MSxyZWFkZGlyOjEsdXNlOjEsdW5saW5rOjEsZ2V0c29ja29wdDoxLGdldHByaW9yaXR5OjEscmluZGV4OjEsd2FudGFycmF5OjEsaGV4OjEsc3lzdGVtOjEsZ2V0c2VydmJ5cG9ydDoxLGVuZHNlcnZlbnQ6MSwiaW50IjoxLGNocjoxLHVudGllOjEscm1kaXI6MSxwcm90b3R5cGU6MSx0ZWxsOjEsbGlzdGVuOjEsZm9yazoxLHNobXJlYWQ6MSx1Y2ZpcnN0OjEsc2V0cHJvdG9lbnQ6MSwiZWxzZSI6MSxzeXNzZWVrOjEsbGluazoxLGdldGdyZ2lkOjEsc2htY3RsOjEsd2FpdHBpZDoxLHVucGFjazoxLGdldG5ldGJ5bmFtZToxLHJlc2V0OjEsY2hkaXI6MSxncmVwOjEsc3BsaXQ6MSxyZXF1aXJlOjEsY2FsbGVyOjEsbGNmaXJzdDoxLHVudGlsOjEsd2FybjoxLCJ3aGlsZSI6MSx2YWx1ZXM6MSxzaGlmdDoxLHRlbGxkaXI6MSxnZXRwd3VpZDoxLG15OjEsZ2V0cHJvdG9ieW51bWJlcjoxLCJkZWxldGUiOjEsYW5kOjEsc29ydDoxLHVjOjEsZGVmaW5lZDoxLHNyYW5kOjEsYWNjZXB0OjEsInBhY2thZ2UiOjEsc2Vla2RpcjoxLGdldHByb3RvYnluYW1lOjEsc2Vtb3A6MSxvdXI6MSxyZW5hbWU6MSxzZWVrOjEsImlmIjoxLHE6MCxjaHJvb3Q6MSxzeXNyZWFkOjEsc2V0cHdlbnQ6MSxubzoxLGNyeXB0OjEsZ2V0YzoxLGNob3duOjEsc3FydDoxLHdyaXRlOjEsc2V0bmV0ZW50OjEsc2V0cHJpb3JpdHk6MSxmb3JlYWNoOjEsdGllOjEsc2luOjEsbXNnZ2V0OjEsbWFwOjEsc3RhdDoxLGdldGxvZ2luOjEsdW5sZXNzOjEsZWxzaWY6MSx0cnVuY2F0ZToxLGV4ZWM6MSxrZXlzOjEsZ2xvYjoxLHRpZWQ6MSxjbG9zZWRpcjoxLGlvY3RsOjEsc29ja2V0OjEscmVhZGxpbms6MSwiZXZhbCI6MSx4b3I6MSxyZWFkbGluZToxLGJpbm1vZGU6MSxzZXRzZXJ2ZW50OjEsZW9mOjEsb3JkOjEsYmluZDoxLGFsYXJtOjEscGlwZToxLGF0YW4yOjEsZ2V0Z3JlbnQ6MSxleHA6MSx0aW1lOjEscHVzaDoxLHNldGdyZW50OjEsZ3Q6MSxsdDoxLG9yOjEsbmU6MSxtOjB9O3ZhciBmPXtjTjoic3Vic3QiLGI6IlskQF1cXHsiLGU6IlxcfSIsazpkLHI6MTB9O3ZhciBjPXtjTjoidmFyaWFibGUiLGI6IlxcJFxcZCJ9O3ZhciBiPXtjTjoidmFyaWFibGUiLGI6IltcXCRcXCVcXEBcXCpdKFxcXlxcd1xcYnwjXFx3KyhcXDpcXDpcXHcrKSp8W15cXHNcXHd7XXx7XFx3K318XFx3KyhcXDpcXDpcXHcqKSopIn07dmFyIGg9W2hsanMuQkUsZixjLGJdO3ZhciBnPXtiOiItPiIsYzpbe2I6aGxqcy5JUn0se2I6InsiLGU6In0ifV19O3ZhciBlPXtjTjoiY29tbWVudCIsYjoiXihfX0VORF9ffF9fREFUQV9fKSIsZToiXFxuJCIscjo1fTt2YXIgYT1bYyxiLGhsanMuSENNLGUsZyx7Y046InN0cmluZyIsYjoicVtxd3hyXT9cXHMqXFwoIixlOiJcXCkiLGM6aCxyOjV9LHtjTjoic3RyaW5nIixiOiJxW3F3eHJdP1xccypcXFsiLGU6IlxcXSIsYzpoLHI6NX0se2NOOiJzdHJpbmciLGI6InFbcXd4cl0/XFxzKlxceyIsZToiXFx9IixjOmgscjo1fSx7Y046InN0cmluZyIsYjoicVtxd3hyXT9cXHMqXFx8IixlOiJcXHwiLGM6aCxyOjV9LHtjTjoic3RyaW5nIixiOiJxW3F3eHJdP1xccypcXDwiLGU6IlxcPiIsYzpoLHI6NX0se2NOOiJzdHJpbmciLGI6InF3XFxzK3EiLGU6InEiLGM6aCxyOjV9LHtjTjoic3RyaW5nIixiOiInIixlOiInIixjOltobGpzLkJFXSxyOjB9LHtjTjoic3RyaW5nIixiOiciJyxlOiciJyxjOmgscjowfSx7Y046InN0cmluZyIsYjoiYCIsZToiYCIsYzpbaGxqcy5CRV19LHtjTjoic3RyaW5nIixiOiJ7XFx3K30iLHI6MH0se2NOOiJzdHJpbmciLGI6Ii0/XFx3K1xccypcXD1cXD4iLHI6MH0se2NOOiJudW1iZXIiLGI6IihcXGIwWzAtN19dKyl8KFxcYjB4WzAtOWEtZkEtRl9dKyl8KFxcYlsxLTldWzAtOV9dKihcXC5bMC05X10rKT8pfFswX11cXGIiLHI6MH0se2I6IigiK2hsanMuUlNSKyJ8XFxiKHNwbGl0fHJldHVybnxwcmludHxyZXZlcnNlfGdyZXApXFxiKVxccyoiLGs6e3NwbGl0OjEsInJldHVybiI6MSxwcmludDoxLHJldmVyc2U6MSxncmVwOjF9LHI6MCxjOltobGpzLkhDTSxlLHtjTjoicmVnZXhwIixiOiIoc3x0cnx5KS8oXFxcXC58W14vXSkqLyhcXFxcLnxbXi9dKSovW2Etel0qIixyOjEwfSx7Y046InJlZ2V4cCIsYjoiKG18cXIpPy8iLGU6Ii9bYS16XSoiLGM6W2hsanMuQkVdLHI6MH1dfSx7Y046InN1YiIsYjoiXFxic3ViXFxiIixlOiIoXFxzKlxcKC4qP1xcKSk/Wzt7XSIsazp7c3ViOjF9LHI6NX0se2NOOiJvcGVyYXRvciIsYjoiLVxcd1xcYiIscjowfSx7Y046InBvZCIsYjoiXFw9XFx3IixlOiJcXD1jdXQifV07Zi5jPWE7Zy5jWzFdLmM9YTtyZXR1cm57ZE06e2s6ZCxjOmF9fX0oKTtobGpzLkxBTkdVQUdFUy5weXRob249ZnVuY3Rpb24oKXt2YXIgYj1be2NOOiJzdHJpbmciLGI6Iih1fGIpP3I/JycnIixlOiInJyciLHI6MTB9LHtjTjoic3RyaW5nIixiOicodXxiKT9yPyIiIicsZTonIiIiJyxyOjEwfSx7Y046InN0cmluZyIsYjoiKHV8cnx1ciknIixlOiInIixjOltobGpzLkJFXSxyOjEwfSx7Y046InN0cmluZyIsYjonKHV8cnx1cikiJyxlOiciJyxjOltobGpzLkJFXSxyOjEwfSx7Y046InN0cmluZyIsYjoiKGJ8YnIpJyIsZToiJyIsYzpbaGxqcy5CRV19LHtjTjoic3RyaW5nIixiOicoYnxicikiJyxlOiciJyxjOltobGpzLkJFXX1dLmNvbmNhdChbaGxqcy5BU00saGxqcy5RU01dKTt2YXIgZD17Y046InRpdGxlIixiOmhsanMuVUlSfTt2YXIgYz17Y046InBhcmFtcyIsYjoiXFwoIixlOiJcXCkiLGM6Yi5jb25jYXQoW2hsanMuQ05NXSl9O3ZhciBhPXtiV0s6dHJ1ZSxlOiI6IixpOiJbJHtdIixjOltkLGNdLHI6MTB9O3JldHVybntkTTp7azp7a2V5d29yZDp7YW5kOjEsZWxpZjoxLGlzOjEsZ2xvYmFsOjEsYXM6MSwiaW4iOjEsImlmIjoxLGZyb206MSxyYWlzZToxLCJmb3IiOjEsZXhjZXB0OjEsImZpbmFsbHkiOjEscHJpbnQ6MSwiaW1wb3J0IjoxLHBhc3M6MSwicmV0dXJuIjoxLGV4ZWM6MSwiZWxzZSI6MSwiYnJlYWsiOjEsbm90OjEsIndpdGgiOjEsImNsYXNzIjoxLGFzc2VydDoxLHlpZWxkOjEsInRyeSI6MSwid2hpbGUiOjEsImNvbnRpbnVlIjoxLGRlbDoxLG9yOjEsZGVmOjEsbGFtYmRhOjEsbm9ubG9jYWw6MTB9LGJ1aWx0X2luOntOb25lOjEsVHJ1ZToxLEZhbHNlOjEsRWxsaXBzaXM6MSxOb3RJbXBsZW1lbnRlZDoxfX0saToiKDwvfC0+fFxcPykiLGM6Yi5jb25jYXQoW2hsanMuSENNLGhsanMuaW5oZXJpdChhLHtjTjoiZnVuY3Rpb24iLGs6e2RlZjoxfX0pLGhsanMuaW5oZXJpdChhLHtjTjoiY2xhc3MiLGs6eyJjbGFzcyI6MX19KSxobGpzLkNOTSx7Y046ImRlY29yYXRvciIsYjoiQCIsZToiJCJ9XSl9fX0oKTtobGpzLkxBTkdVQUdFUy5yPXtkTTp7YzpbaGxqcy5IQ00se2NOOiJudW1iZXIiLGI6IlxcYjBbeFhdWzAtOWEtZkEtRl0rW0xpXT9cXGIiLGU6aGxqcy5JTU1FRElBVEVfUkUscjowfSx7Y046Im51bWJlciIsYjoiXFxiXFxkKyg/OltlRV1bK1xcLV0/XFxkKik/TFxcYiIsZTpobGpzLklNTUVESUFURV9SRSxyOjB9LHtjTjoibnVtYmVyIixiOiJcXGJcXGQrXFwuKD8hXFxkKSg/OmlcXGIpPyIsZTpobGpzLklNTUVESUFURV9SRSxyOjF9LHtjTjoibnVtYmVyIixiOiJcXGJcXGQrKD86XFwuXFxkKik/KD86W2VFXVsrXFwtXT9cXGQqKT9pP1xcYiIsZTpobGpzLklNTUVESUFURV9SRSxyOjB9LHtjTjoibnVtYmVyIixiOiJcXC5cXGQrKD86W2VFXVsrXFwtXT9cXGQqKT9pP1xcYiIsZTpobGpzLklNTUVESUFURV9SRSxyOjF9LHtjTjoia2V5d29yZCIsYjoiKD86dHJ5Q2F0Y2h8bGlicmFyeXxzZXRHZW5lcmljfHNldEdyb3VwR2VuZXJpYylcXGIiLGU6aGxqcy5JTU1FRElBVEVfUkUscjoxMH0se2NOOiJrZXl3b3JkIixiOiJcXC5cXC5cXC4iLGU6aGxqcy5JTU1FRElBVEVfUkUscjoxMH0se2NOOiJrZXl3b3JkIixiOiJcXC5cXC5cXGQrKD8hW1xcdy5dKSIsZTpobGpzLklNTUVESUFURV9SRSxyOjEwfSx7Y046ImtleXdvcmQiLGI6IlxcYig/OmZ1bmN0aW9uKSIsZTpobGpzLklNTUVESUFURV9SRSxyOjJ9LHtjTjoia2V5d29yZCIsYjoiKD86aWZ8aW58YnJlYWt8bmV4dHxyZXBlYXR8ZWxzZXxmb3J8cmV0dXJufHN3aXRjaHx3aGlsZXx0cnl8c3RvcHx3YXJuaW5nfHJlcXVpcmV8YXR0YWNofGRldGFjaHxzb3VyY2V8c2V0TWV0aG9kfHNldENsYXNzKVxcYiIsZTpobGpzLklNTUVESUFURV9SRSxyOjF9LHtjTjoibGl0ZXJhbCIsYjoiKD86TkF8TkFfaW50ZWdlcl98TkFfcmVhbF98TkFfY2hhcmFjdGVyX3xOQV9jb21wbGV4XylcXGIiLGU6aGxqcy5JTU1FRElBVEVfUkUscjoxMH0se2NOOiJsaXRlcmFsIixiOiIoPzpOVUxMfFRSVUV8RkFMU0V8VHxGfEluZnxOYU4pXFxiIixlOmhsanMuSU1NRURJQVRFX1JFLHI6MX0se2NOOiJpZGVudGlmaWVyIixiOiJbYS16QS1aLl1bYS16QS1aMC05Ll9dKlxcYiIsZTpobGpzLklNTUVESUFURV9SRSxyOjB9LHtjTjoib3BlcmF0b3IiLGI6IjxcXC0oPyFcXHMqXFxkKSIsZTpobGpzLklNTUVESUFURV9SRSxyOjJ9LHtjTjoib3BlcmF0b3IiLGI6IlxcLT58PFxcLSIsZTpobGpzLklNTUVESUFURV9SRSxyOjF9LHtjTjoib3BlcmF0b3IiLGI6IiUlfH4iLGU6aGxqcy5JTU1FRElBVEVfUkV9LHtjTjoib3BlcmF0b3IiLGI6Ij49fDw9fD09fCE9fFxcfFxcfHwmJnw9fFxcK3xcXC18XFwqfC98XFxefD58PHwhfCZ8XFx8fFxcJHw6IixlOmhsanMuSU1NRURJQVRFX1JFLHI6MH0se2NOOiJvcGVyYXRvciIsYjoiJSIsZToiJSIsaToiXFxuIixyOjF9LHtjTjoiaWRlbnRpZmllciIsYjoiYCIsZToiYCIscjowfSx7Y046InN0cmluZyIsYjonIicsZTonIicsYzpbaGxqcy5CRV0scjowfSx7Y046InN0cmluZyIsYjoiJyIsZToiJyIsYzpbaGxqcy5CRV0scjowfSx7Y046InBhcmVuIixiOiJbWyh7XFxdKX1dIixlOmhsanMuSU1NRURJQVRFX1JFLHI6MH1dfX07aGxqcy5MQU5HVUFHRVMucnVieT1mdW5jdGlvbigpe3ZhciBhPSJbYS16QS1aX11bYS16QS1aMC05X10qKFxcIXxcXD8pPyI7dmFyIGo9IlthLXpBLVpfXVxcdypbIT89XT98Wy0rfl1cXEB8PDx8Pj58PX58PT09P3w8PT58Wzw+XT0/fFxcKlxcKnxbLS8rJV4mKn5gfF18XFxbXFxdPT8iO3ZhciBmPXtrZXl3b3JkOnthbmQ6MSwiZmFsc2UiOjEsdGhlbjoxLGRlZmluZWQ6MSxtb2R1bGU6MSwiaW4iOjEsInJldHVybiI6MSxyZWRvOjEsImlmIjoxLEJFR0lOOjEscmV0cnk6MSxlbmQ6MSwiZm9yIjoxLCJ0cnVlIjoxLHNlbGY6MSx3aGVuOjEsbmV4dDoxLHVudGlsOjEsImRvIjoxLGJlZ2luOjEsdW5sZXNzOjEsRU5EOjEscmVzY3VlOjEsbmlsOjEsImVsc2UiOjEsImJyZWFrIjoxLHVuZGVmOjEsbm90OjEsInN1cGVyIjoxLCJjbGFzcyI6MSwiY2FzZSI6MSxyZXF1aXJlOjEseWllbGQ6MSxhbGlhczoxLCJ3aGlsZSI6MSxlbnN1cmU6MSxlbHNpZjoxLG9yOjEsZGVmOjF9LGtleW1ldGhvZHM6e19faWRfXzoxLF9fc2VuZF9fOjEsYWJvcnQ6MSxhYnM6MSwiYWxsPyI6MSxhbGxvY2F0ZToxLGFuY2VzdG9yczoxLCJhbnk/IjoxLGFyaXR5OjEsYXNzb2M6MSxhdDoxLGF0X2V4aXQ6MSxhdXRvbG9hZDoxLCJhdXRvbG9hZD8iOjEsImJldHdlZW4/IjoxLGJpbmRpbmc6MSxiaW5tb2RlOjEsImJsb2NrX2dpdmVuPyI6MSxjYWxsOjEsY2FsbGNjOjEsY2FsbGVyOjEsY2FwaXRhbGl6ZToxLCJjYXBpdGFsaXplISI6MSxjYXNlY21wOjEsImNhdGNoIjoxLGNlaWw6MSxjZW50ZXI6MSxjaG9tcDoxLCJjaG9tcCEiOjEsY2hvcDoxLCJjaG9wISI6MSxjaHI6MSwiY2xhc3MiOjEsY2xhc3NfZXZhbDoxLCJjbGFzc192YXJpYWJsZV9kZWZpbmVkPyI6MSxjbGFzc192YXJpYWJsZXM6MSxjbGVhcjoxLGNsb25lOjEsY2xvc2U6MSxjbG9zZV9yZWFkOjEsY2xvc2Vfd3JpdGU6MSwiY2xvc2VkPyI6MSxjb2VyY2U6MSxjb2xsZWN0OjEsImNvbGxlY3QhIjoxLGNvbXBhY3Q6MSwiY29tcGFjdCEiOjEsY29uY2F0OjEsImNvbnN0X2RlZmluZWQ/IjoxLGNvbnN0X2dldDoxLGNvbnN0X21pc3Npbmc6MSxjb25zdF9zZXQ6MSxjb25zdGFudHM6MSxjb3VudDoxLGNyeXB0OjEsImRlZmF1bHQiOjEsZGVmYXVsdF9wcm9jOjEsImRlbGV0ZSI6MSwiZGVsZXRlISI6MSxkZWxldGVfYXQ6MSxkZWxldGVfaWY6MSxkZXRlY3Q6MSxkaXNwbGF5OjEsZGl2OjEsZGl2bW9kOjEsZG93bmNhc2U6MSwiZG93bmNhc2UhIjoxLGRvd250bzoxLGR1bXA6MSxkdXA6MSxlYWNoOjEsZWFjaF9ieXRlOjEsZWFjaF9pbmRleDoxLGVhY2hfa2V5OjEsZWFjaF9saW5lOjEsZWFjaF9wYWlyOjEsZWFjaF92YWx1ZToxLGVhY2hfd2l0aF9pbmRleDoxLCJlbXB0eT8iOjEsZW50cmllczoxLGVvZjoxLCJlb2Y/IjoxLCJlcWw/IjoxLCJlcXVhbD8iOjEsImV2YWwiOjEsZXhlYzoxLGV4aXQ6MSwiZXhpdCEiOjEsZXh0ZW5kOjEsZmFpbDoxLGZjbnRsOjEsZmV0Y2g6MSxmaWxlbm86MSxmaWxsOjEsZmluZDoxLGZpbmRfYWxsOjEsZmlyc3Q6MSxmbGF0dGVuOjEsImZsYXR0ZW4hIjoxLGZsb29yOjEsZmx1c2g6MSxmb3JfZmQ6MSxmb3JlYWNoOjEsZm9yazoxLGZvcm1hdDoxLGZyZWV6ZToxLCJmcm96ZW4/IjoxLGZzeW5jOjEsZ2V0YzoxLGdldHM6MSxnbG9iYWxfdmFyaWFibGVzOjEsZ3JlcDoxLGdzdWI6MSwiZ3N1YiEiOjEsImhhc19rZXk/IjoxLCJoYXNfdmFsdWU/IjoxLGhhc2g6MSxoZXg6MSxpZDoxLGluY2x1ZGU6MSwiaW5jbHVkZT8iOjEsaW5jbHVkZWRfbW9kdWxlczoxLGluZGV4OjEsaW5kZXhlczoxLGluZGljZXM6MSxpbmR1Y2VkX2Zyb206MSxpbmplY3Q6MSxpbnNlcnQ6MSxpbnNwZWN0OjEsaW5zdGFuY2VfZXZhbDoxLGluc3RhbmNlX21ldGhvZDoxLGluc3RhbmNlX21ldGhvZHM6MSwiaW5zdGFuY2Vfb2Y/IjoxLCJpbnN0YW5jZV92YXJpYWJsZV9kZWZpbmVkPyI6MSxpbnN0YW5jZV92YXJpYWJsZV9nZXQ6MSxpbnN0YW5jZV92YXJpYWJsZV9zZXQ6MSxpbnN0YW5jZV92YXJpYWJsZXM6MSwiaW50ZWdlcj8iOjEsaW50ZXJuOjEsaW52ZXJ0OjEsaW9jdGw6MSwiaXNfYT8iOjEsaXNhdHR5OjEsIml0ZXJhdG9yPyI6MSxqb2luOjEsImtleT8iOjEsa2V5czoxLCJraW5kX29mPyI6MSxsYW1iZGE6MSxsYXN0OjEsbGVuZ3RoOjEsbGluZW5vOjEsbGp1c3Q6MSxsb2FkOjEsbG9jYWxfdmFyaWFibGVzOjEsbG9vcDoxLGxzdHJpcDoxLCJsc3RyaXAhIjoxLG1hcDoxLCJtYXAhIjoxLG1hdGNoOjEsbWF4OjEsIm1lbWJlcj8iOjEsbWVyZ2U6MSwibWVyZ2UhIjoxLG1ldGhvZDoxLCJtZXRob2RfZGVmaW5lZD8iOjEsbWV0aG9kX21pc3Npbmc6MSxtZXRob2RzOjEsbWluOjEsbW9kdWxlX2V2YWw6MSxtb2R1bG86MSxuYW1lOjEsbmVzdGluZzoxLCJuZXciOjEsbmV4dDoxLCJuZXh0ISI6MSwibmlsPyI6MSxuaXRlbXM6MSwibm9uemVybz8iOjEsb2JqZWN0X2lkOjEsb2N0OjEsb3BlbjoxLHBhY2s6MSxwYXJ0aXRpb246MSxwaWQ6MSxwaXBlOjEscG9wOjEscG9wZW46MSxwb3M6MSxwcmVjOjEscHJlY19mOjEscHJlY19pOjEscHJpbnQ6MSxwcmludGY6MSxwcml2YXRlX2NsYXNzX21ldGhvZDoxLHByaXZhdGVfaW5zdGFuY2VfbWV0aG9kczoxLCJwcml2YXRlX21ldGhvZF9kZWZpbmVkPyI6MSxwcml2YXRlX21ldGhvZHM6MSxwcm9jOjEscHJvdGVjdGVkX2luc3RhbmNlX21ldGhvZHM6MSwicHJvdGVjdGVkX21ldGhvZF9kZWZpbmVkPyI6MSxwcm90ZWN0ZWRfbWV0aG9kczoxLHB1YmxpY19jbGFzc19tZXRob2Q6MSxwdWJsaWNfaW5zdGFuY2VfbWV0aG9kczoxLCJwdWJsaWNfbWV0aG9kX2RlZmluZWQ/IjoxLHB1YmxpY19tZXRob2RzOjEscHVzaDoxLHB1dGM6MSxwdXRzOjEscXVvOjEscmFpc2U6MSxyYW5kOjEscmFzc29jOjEscmVhZDoxLHJlYWRfbm9uYmxvY2s6MSxyZWFkY2hhcjoxLHJlYWRsaW5lOjEscmVhZGxpbmVzOjEscmVhZHBhcnRpYWw6MSxyZWhhc2g6MSxyZWplY3Q6MSwicmVqZWN0ISI6MSxyZW1haW5kZXI6MSxyZW9wZW46MSxyZXBsYWNlOjEscmVxdWlyZToxLCJyZXNwb25kX3RvPyI6MSxyZXZlcnNlOjEsInJldmVyc2UhIjoxLHJldmVyc2VfZWFjaDoxLHJld2luZDoxLHJpbmRleDoxLHJqdXN0OjEscm91bmQ6MSxyc3RyaXA6MSwicnN0cmlwISI6MSxzY2FuOjEsc2VlazoxLHNlbGVjdDoxLHNlbmQ6MSxzZXRfdHJhY2VfZnVuYzoxLHNoaWZ0OjEsc2luZ2xldG9uX21ldGhvZF9hZGRlZDoxLHNpbmdsZXRvbl9tZXRob2RzOjEsc2l6ZToxLHNsZWVwOjEsc2xpY2U6MSwic2xpY2UhIjoxLHNvcnQ6MSwic29ydCEiOjEsc29ydF9ieToxLHNwbGl0OjEsc3ByaW50ZjoxLHNxdWVlemU6MSwic3F1ZWV6ZSEiOjEsc3JhbmQ6MSxzdGF0OjEsc3RlcDoxLHN0b3JlOjEsc3RyaXA6MSwic3RyaXAhIjoxLHN1YjoxLCJzdWIhIjoxLHN1Y2M6MSwic3VjYyEiOjEsc3VtOjEsc3VwZXJjbGFzczoxLHN3YXBjYXNlOjEsInN3YXBjYXNlISI6MSxzeW5jOjEsc3lzY2FsbDoxLHN5c29wZW46MSxzeXNyZWFkOjEsc3lzc2VlazoxLHN5c3RlbToxLHN5c3dyaXRlOjEsdGFpbnQ6MSwidGFpbnRlZD8iOjEsdGVsbDoxLHRlc3Q6MSwidGhyb3ciOjEsdGltZXM6MSx0b19hOjEsdG9fYXJ5OjEsdG9fZjoxLHRvX2hhc2g6MSx0b19pOjEsdG9faW50OjEsdG9faW86MSx0b19wcm9jOjEsdG9fczoxLHRvX3N0cjoxLHRvX3N5bToxLHRyOjEsInRyISI6MSx0cl9zOjEsInRyX3MhIjoxLHRyYWNlX3ZhcjoxLHRyYW5zcG9zZToxLHRyYXA6MSx0cnVuY2F0ZToxLCJ0dHk/IjoxLHR5cGU6MSx1bmdldGM6MSx1bmlxOjEsInVuaXEhIjoxLHVucGFjazoxLHVuc2hpZnQ6MSx1bnRhaW50OjEsdW50cmFjZV92YXI6MSx1cGNhc2U6MSwidXBjYXNlISI6MSx1cGRhdGU6MSx1cHRvOjEsInZhbHVlPyI6MSx2YWx1ZXM6MSx2YWx1ZXNfYXQ6MSx3YXJuOjEsd3JpdGU6MSx3cml0ZV9ub25ibG9jazoxLCJ6ZXJvPyI6MSx6aXA6MX19O3ZhciBjPXtjTjoieWFyZG9jdGFnIixiOiJAW0EtWmEtel0rIn07dmFyIGs9W3tjTjoiY29tbWVudCIsYjoiIyIsZToiJCIsYzpbY119LHtjTjoiY29tbWVudCIsYjoiXlxcPWJlZ2luIixlOiJeXFw9ZW5kIixjOltjXSxyOjEwfSx7Y046ImNvbW1lbnQiLGI6Il5fX0VORF9fIixlOiJcXG4kIn1dO3ZhciBkPXtjTjoic3Vic3QiLGI6IiNcXHsiLGU6In0iLGw6YSxrOmZ9O3ZhciBpPVtobGpzLkJFLGRdO3ZhciBiPVt7Y046InN0cmluZyIsYjoiJyIsZToiJyIsYzppLHI6MH0se2NOOiJzdHJpbmciLGI6JyInLGU6JyInLGM6aSxyOjB9LHtjTjoic3RyaW5nIixiOiIlW3F3XT9cXCgiLGU6IlxcKSIsYzppLHI6MTB9LHtjTjoic3RyaW5nIixiOiIlW3F3XT9cXFsiLGU6IlxcXSIsYzppLHI6MTB9LHtjTjoic3RyaW5nIixiOiIlW3F3XT97IixlOiJ9IixjOmkscjoxMH0se2NOOiJzdHJpbmciLGI6IiVbcXddPzwiLGU6Ij4iLGM6aSxyOjEwfSx7Y046InN0cmluZyIsYjoiJVtxd10/LyIsZToiLyIsYzppLHI6MTB9LHtjTjoic3RyaW5nIixiOiIlW3F3XT8lIixlOiIlIixjOmkscjoxMH0se2NOOiJzdHJpbmciLGI6IiVbcXddPy0iLGU6Ii0iLGM6aSxyOjEwfSx7Y046InN0cmluZyIsYjoiJVtxd10/XFx8IixlOiJcXHwiLGM6aSxyOjEwfV07dmFyIGg9e2NOOiJmdW5jdGlvbiIsYjoiXFxiZGVmXFxzKyIsZToiIHwkfDsiLGw6YSxrOmYsYzpbe2NOOiJ0aXRsZSIsYjpqLGw6YSxrOmZ9LHtjTjoicGFyYW1zIixiOiJcXCgiLGU6IlxcKSIsbDphLGs6Zn1dLmNvbmNhdChrKX07dmFyIGc9e2NOOiJpZGVudGlmaWVyIixiOmEsbDphLGs6ZixyOjB9O3ZhciBlPWsuY29uY2F0KGIuY29uY2F0KFt7Y046ImNsYXNzIixiOiJcXGIoY2xhc3N8bW9kdWxlKVxcYiIsZToiJHw7IixrOnsiY2xhc3MiOjEsbW9kdWxlOjF9LGM6W3tjTjoidGl0bGUiLGI6IltBLVphLXpfXVxcdyooOjpcXHcrKSooXFw/fFxcISk/IixyOjB9LHtjTjoiaW5oZXJpdGFuY2UiLGI6IjxcXHMqIixjOlt7Y046InBhcmVudCIsYjoiKCIraGxqcy5JUisiOjopPyIraGxqcy5JUn1dfV0uY29uY2F0KGspfSxoLHtjTjoiY29uc3RhbnQiLGI6Iig6Oik/KFtBLVpdXFx3Kig6Oik/KSsiLHI6MH0se2NOOiJzeW1ib2wiLGI6IjoiLGM6Yi5jb25jYXQoW2ddKSxyOjB9LHtjTjoibnVtYmVyIixiOiIoXFxiMFswLTdfXSspfChcXGIweFswLTlhLWZBLUZfXSspfChcXGJbMS05XVswLTlfXSooXFwuWzAtOV9dKyk/KXxbMF9dXFxiIixyOjB9LHtjTjoibnVtYmVyIixiOiJcXD9cXHcifSx7Y046InZhcmlhYmxlIixiOiIoXFwkXFxXKXwoKFxcJHxcXEBcXEA/KShcXHcrKSkifSxnLHtiOiIoIitobGpzLlJTUisiKVxccyoiLGM6ay5jb25jYXQoW3tjTjoicmVnZXhwIixiOiIvIixlOiIvW2Etel0qIixpOiJcXG4iLGM6W2hsanMuQkVdfV0pLHI6MH1dKSk7ZC5jPWU7aC5jWzFdLmM9ZTtyZXR1cm57ZE06e2w6YSxrOmYsYzplfX19KCk7aGxqcy5MQU5HVUFHRVMuc2NhbGE9ZnVuY3Rpb24oKXt2YXIgYj17Y046ImFubm90YXRpb24iLGI6IkBbQS1aYS16XSsifTt2YXIgYT17Y046InN0cmluZyIsYjondT9yPyIiIicsZTonIiIiJyxyOjEwfTtyZXR1cm57ZE06e2s6e3R5cGU6MSx5aWVsZDoxLGxhenk6MSxvdmVycmlkZToxLGRlZjoxLCJ3aXRoIjoxLHZhbDoxLCJ2YXIiOjEsImZhbHNlIjoxLCJ0cnVlIjoxLHNlYWxlZDoxLCJhYnN0cmFjdCI6MSwicHJpdmF0ZSI6MSx0cmFpdDoxLG9iamVjdDoxLCJudWxsIjoxLCJpZiI6MSwiZm9yIjoxLCJ3aGlsZSI6MSwidGhyb3ciOjEsImZpbmFsbHkiOjEsInByb3RlY3RlZCI6MSwiZXh0ZW5kcyI6MSwiaW1wb3J0IjoxLCJmaW5hbCI6MSwicmV0dXJuIjoxLCJlbHNlIjoxLCJicmVhayI6MSwibmV3IjoxLCJjYXRjaCI6MSwic3VwZXIiOjEsImNsYXNzIjoxLCJjYXNlIjoxLCJwYWNrYWdlIjoxLCJkZWZhdWx0IjoxLCJ0cnkiOjEsInRoaXMiOjEsbWF0Y2g6MSwiY29udGludWUiOjEsInRocm93cyI6MX0sYzpbe2NOOiJqYXZhZG9jIixiOiIvXFwqXFwqIixlOiJcXCovIixjOlt7Y046ImphdmFkb2N0YWciLGI6IkBbQS1aYS16XSsifV0scjoxMH0saGxqcy5DTENNLGhsanMuQ0JMQ0xNLGhsanMuQVNNLGhsanMuUVNNLGEse2NOOiJjbGFzcyIsYjoiKChjYXNlICk/Y2xhc3MgfG9iamVjdCB8dHJhaXQgKSIsZToiKHt8JCkiLGk6IjoiLGs6eyJjYXNlIjoxLCJjbGFzcyI6MSx0cmFpdDoxLG9iamVjdDoxfSxjOlt7YldLOnRydWUsazp7ImV4dGVuZHMiOjEsIndpdGgiOjF9LHI6MTB9LHtjTjoidGl0bGUiLGI6aGxqcy5VSVJ9LHtjTjoicGFyYW1zIixiOiJcXCgiLGU6IlxcKSIsYzpbaGxqcy5BU00saGxqcy5RU00sYSxiXX1dfSxobGpzLkNOTSxiXX19fSgpO2hsanMuTEFOR1VBR0VTLnNxbD17Y0k6dHJ1ZSxkTTp7aToiW15cXHNdIixjOlt7Y046Im9wZXJhdG9yIixiOiIoYmVnaW58c3RhcnR8Y29tbWl0fHJvbGxiYWNrfHNhdmVwb2ludHxsb2NrfGFsdGVyfGNyZWF0ZXxkcm9wfHJlbmFtZXxjYWxsfGRlbGV0ZXxkb3xoYW5kbGVyfGluc2VydHxsb2FkfHJlcGxhY2V8c2VsZWN0fHRydW5jYXRlfHVwZGF0ZXxzZXR8c2hvd3xwcmFnbWF8Z3JhbnQpXFxiIixlOiI7fCIraGxqcy5FUixrOntrZXl3b3JkOnthbGw6MSxwYXJ0aWFsOjEsZ2xvYmFsOjEsbW9udGg6MSxjdXJyZW50X3RpbWVzdGFtcDoxLHVzaW5nOjEsZ286MSxyZXZva2U6MSxzbWFsbGludDoxLGluZGljYXRvcjoxLCJlbmQtZXhlYyI6MSxkaXNjb25uZWN0OjEsem9uZToxLCJ3aXRoIjoxLGNoYXJhY3RlcjoxLGFzc2VydGlvbjoxLHRvOjEsYWRkOjEsY3VycmVudF91c2VyOjEsdXNhZ2U6MSxpbnB1dDoxLGxvY2FsOjEsYWx0ZXI6MSxtYXRjaDoxLGNvbGxhdGU6MSxyZWFsOjEsdGhlbjoxLHJvbGxiYWNrOjEsZ2V0OjEscmVhZDoxLHRpbWVzdGFtcDoxLHNlc3Npb25fdXNlcjoxLG5vdDoxLGludGVnZXI6MSxiaXQ6MSx1bmlxdWU6MSxkYXk6MSxtaW51dGU6MSxkZXNjOjEsaW5zZXJ0OjEsZXhlY3V0ZToxLGxpa2U6MSxpbGlrZToyLGxldmVsOjEsZGVjaW1hbDoxLGRyb3A6MSwiY29udGludWUiOjEsaXNvbGF0aW9uOjEsZm91bmQ6MSx3aGVyZToxLGNvbnN0cmFpbnRzOjEsZG9tYWluOjEscmlnaHQ6MSxuYXRpb25hbDoxLHNvbWU6MSxtb2R1bGU6MSx0cmFuc2FjdGlvbjoxLHJlbGF0aXZlOjEsc2Vjb25kOjEsY29ubmVjdDoxLGVzY2FwZToxLGNsb3NlOjEsc3lzdGVtX3VzZXI6MSwiZm9yIjoxLGRlZmVycmVkOjEsc2VjdGlvbjoxLGNhc3Q6MSxjdXJyZW50OjEsc3Fsc3RhdGU6MSxhbGxvY2F0ZToxLGludGVyc2VjdDoxLGRlYWxsb2NhdGU6MSxudW1lcmljOjEsInB1YmxpYyI6MSxwcmVzZXJ2ZToxLGZ1bGw6MSwiZ290byI6MSxpbml0aWFsbHk6MSxhc2M6MSxubzoxLGtleToxLG91dHB1dDoxLGNvbGxhdGlvbjoxLGdyb3VwOjEsYnk6MSx1bmlvbjoxLHNlc3Npb246MSxib3RoOjEsbGFzdDoxLGxhbmd1YWdlOjEsY29uc3RyYWludDoxLGNvbHVtbjoxLG9mOjEsc3BhY2U6MSxmb3JlaWduOjEsZGVmZXJyYWJsZToxLHByaW9yOjEsY29ubmVjdGlvbjoxLHVua25vd246MSxhY3Rpb246MSxjb21taXQ6MSx2aWV3OjEsb3I6MSxmaXJzdDoxLGludG86MSwiZmxvYXQiOjEseWVhcjoxLHByaW1hcnk6MSxjYXNjYWRlZDoxLGV4Y2VwdDoxLHJlc3RyaWN0OjEsc2V0OjEscmVmZXJlbmNlczoxLG5hbWVzOjEsdGFibGU6MSxvdXRlcjoxLG9wZW46MSxzZWxlY3Q6MSxzaXplOjEsYXJlOjEscm93czoxLGZyb206MSxwcmVwYXJlOjEsZGlzdGluY3Q6MSxsZWFkaW5nOjEsY3JlYXRlOjEsb25seToxLG5leHQ6MSxpbm5lcjoxLGF1dGhvcml6YXRpb246MSxzY2hlbWE6MSxjb3JyZXNwb25kaW5nOjEsb3B0aW9uOjEsZGVjbGFyZToxLHByZWNpc2lvbjoxLGltbWVkaWF0ZToxLCJlbHNlIjoxLHRpbWV6b25lX21pbnV0ZToxLGV4dGVybmFsOjEsdmFyeWluZzoxLHRyYW5zbGF0aW9uOjEsInRydWUiOjEsImNhc2UiOjEsZXhjZXB0aW9uOjEsam9pbjoxLGhvdXI6MSwiZGVmYXVsdCI6MSwiZG91YmxlIjoxLHNjcm9sbDoxLHZhbHVlOjEsY3Vyc29yOjEsZGVzY3JpcHRvcjoxLHZhbHVlczoxLGRlYzoxLGZldGNoOjEscHJvY2VkdXJlOjEsImRlbGV0ZSI6MSxhbmQ6MSwiZmFsc2UiOjEsImludCI6MSxpczoxLGRlc2NyaWJlOjEsImNoYXIiOjEsYXM6MSxhdDoxLCJpbiI6MSx2YXJjaGFyOjEsIm51bGwiOjEsdHJhaWxpbmc6MSxhbnk6MSxhYnNvbHV0ZToxLGN1cnJlbnRfdGltZToxLGVuZDoxLGdyYW50OjEscHJpdmlsZWdlczoxLHdoZW46MSxjcm9zczoxLGNoZWNrOjEsd3JpdGU6MSxjdXJyZW50X2RhdGU6MSxwYWQ6MSxiZWdpbjoxLHRlbXBvcmFyeToxLGV4ZWM6MSx0aW1lOjEsdXBkYXRlOjEsY2F0YWxvZzoxLHVzZXI6MSxzcWw6MSxkYXRlOjEsb246MSxpZGVudGl0eToxLHRpbWV6b25lX2hvdXI6MSxuYXR1cmFsOjEsd2hlbmV2ZXI6MSxpbnRlcnZhbDoxLHdvcms6MSxvcmRlcjoxLGNhc2NhZGU6MSxkaWFnbm9zdGljczoxLG5jaGFyOjEsaGF2aW5nOjEsbGVmdDoxLGNhbGw6MSwiZG8iOjEsaGFuZGxlcjoxLGxvYWQ6MSxyZXBsYWNlOjEsdHJ1bmNhdGU6MSxzdGFydDoxLGxvY2s6MSxzaG93OjEscHJhZ21hOjF9LGFnZ3JlZ2F0ZTp7Y291bnQ6MSxzdW06MSxtaW46MSxtYXg6MSxhdmc6MX19LGM6W3tjTjoic3RyaW5nIixiOiInIixlOiInIixjOltobGpzLkJFLHtiOiInJyJ9XSxyOjB9LHtjTjoic3RyaW5nIixiOiciJyxlOiciJyxjOltobGpzLkJFLHtiOiciIid9XSxyOjB9LHtjTjoic3RyaW5nIixiOiJgIixlOiJgIixjOltobGpzLkJFXX0saGxqcy5DTk1dfSxobGpzLkNCTENMTSx7Y046ImNvbW1lbnQiLGI6Ii0tIixlOiIkIn1dfX07aGxqcy5MQU5HVUFHRVMuc3Rhbj17ZE06e2M6W2hsanMuSENNLGhsanMuQ0xDTSxobGpzLlFTTSxobGpzLkNOTSx7Y046Im9wZXJhdG9yIixiOiIoPzo8LXx+fFxcfFxcfHwmJnw9PXwhPXw8PT98Pj0/fFxcK3wtfFxcLj8vfFxcXFx8XFxefFxcXnwhfCd8JXw6fCx8O3w9KVxcYiIsZTpobGpzLklNTUVESUFURV9SRSxyOjEwfSx7Y046InBhcmVuIixiOiJbWyh7XFxdKX1dIixlOmhsanMuSU1NRURJQVRFX1JFLHI6MH0se2NOOiJmdW5jdGlvbiIsYjoiKD86UGhpfFBoaV9hcHByb3h8YWJzfGFjb3N8YWNvc2h8YXBwZW5kX2NvbHxhcHBlbmRfcm93fGFzaW58YXNpbmh8YXRhbnxhdGFuMnxhdGFuaHxiZXJub3VsbGlfY2NkZl9sb2d8YmVybm91bGxpX2NkZnxiZXJub3VsbGlfY2RmX2xvZ3xiZXJub3VsbGlfbG9nfGJlcm5vdWxsaV9sb2dpdF9sb2d8YmVybm91bGxpX3JuZ3xiZXNzZWxfZmlyc3Rfa2luZHxiZXNzZWxfc2Vjb25kX2tpbmR8YmV0YV9iaW5vbWlhbF9jY2RmX2xvZ3xiZXRhX2Jpbm9taWFsX2NkZnxiZXRhX2Jpbm9taWFsX2NkZl9sb2d8YmV0YV9iaW5vbWlhbF9sb2d8YmV0YV9iaW5vbWlhbF9ybmd8YmV0YV9jY2RmX2xvZ3xiZXRhX2NkZnxiZXRhX2NkZl9sb2d8YmV0YV9sb2d8YmV0YV9ybmd8YmluYXJ5X2xvZ19sb3NzfGJpbm9taWFsX2NjZGZfbG9nfGJpbm9taWFsX2NkZnxiaW5vbWlhbF9jZGZfbG9nfGJpbm9taWFsX2NvZWZmaWNpZW50X2xvZ3xiaW5vbWlhbF9sb2d8Ymlub21pYWxfbG9naXRfbG9nfGJpbm9taWFsX3JuZ3xibG9ja3xjYXRlZ29yaWNhbF9sb2d8Y2F0ZWdvcmljYWxfbG9naXRfbG9nfGNhdGVnb3JpY2FsX3JuZ3xjYXVjaHlfY2NkZl9sb2d8Y2F1Y2h5X2NkZnxjYXVjaHlfY2RmX2xvZ3xjYXVjaHlfbG9nfGNhdWNoeV9ybmd8Y2JydHxjZWlsfGNoaV9zcXVhcmVfY2NkZl9sb2d8Y2hpX3NxdWFyZV9jZGZ8Y2hpX3NxdWFyZV9jZGZfbG9nfGNoaV9zcXVhcmVfbG9nfGNoaV9zcXVhcmVfcm5nfGNob2xlc2t5X2RlY29tcG9zZXxjb2x8Y29sc3xjb2x1bW5zX2RvdF9wcm9kdWN0fGNvbHVtbnNfZG90X3NlbGZ8Y29zfGNvc2h8Y3Jvc3Nwcm9kfGNzcl9leHRyYWN0X3V8Y3NyX2V4dHJhY3Rfdnxjc3JfZXh0cmFjdF93fGNzcl9tYXRyaXhfdGltZXNfdmVjdG9yfGNzcl90b19kZW5zZV9tYXRyaXh8Y3VtdWxhdGl2ZV9zdW18ZGV0ZXJtaW5hbnR8ZGlhZ19tYXRyaXh8ZGlhZ19wb3N0X211bHRpcGx5fGRpYWdfcHJlX211bHRpcGx5fGRpYWdvbmFsfGRpZ2FtbWF8ZGltc3xkaXJpY2hsZXRfbG9nfGRpcmljaGxldF9ybmd8ZGlzdGFuY2V8ZG90X3Byb2R1Y3R8ZG90X3NlbGZ8ZG91YmxlX2V4cG9uZW50aWFsX2NjZGZfbG9nfGRvdWJsZV9leHBvbmVudGlhbF9jZGZ8ZG91YmxlX2V4cG9uZW50aWFsX2NkZl9sb2d8ZG91YmxlX2V4cG9uZW50aWFsX2xvZ3xkb3VibGVfZXhwb25lbnRpYWxfcm5nfGV8ZWlnZW52YWx1ZXNfc3ltfGVpZ2VudmVjdG9yc19zeW18ZXJmfGVyZmN8ZXhwfGV4cDJ8ZXhwX21vZF9ub3JtYWxfY2NkZl9sb2d8ZXhwX21vZF9ub3JtYWxfY2RmfGV4cF9tb2Rfbm9ybWFsX2NkZl9sb2d8ZXhwX21vZF9ub3JtYWxfbG9nfGV4cF9tb2Rfbm9ybWFsX3JuZ3xleHBtMXxleHBvbmVudGlhbF9jY2RmX2xvZ3xleHBvbmVudGlhbF9jZGZ8ZXhwb25lbnRpYWxfY2RmX2xvZ3xleHBvbmVudGlhbF9sb2d8ZXhwb25lbnRpYWxfcm5nfGZhYnN8ZmFsbGluZ19mYWN0b3JpYWx8ZmRpbXxmbG9vcnxmbWF8Zm1heHxmbWlufGZtb2R8ZnJlY2hldF9jY2RmX2xvZ3xmcmVjaGV0X2NkZnxmcmVjaGV0X2NkZl9sb2d8ZnJlY2hldF9sb2d8ZnJlY2hldF9ybmd8Z2FtbWFfY2NkZl9sb2d8Z2FtbWFfY2RmfGdhbW1hX2NkZl9sb2d8Z2FtbWFfbG9nfGdhbW1hX3B8Z2FtbWFfcXxnYW1tYV9ybmd8Z2F1c3NpYW5fZGxtX29ic19sb2d8Z2V0X2xwfGd1bWJlbF9jY2RmX2xvZ3xndW1iZWxfY2RmfGd1bWJlbF9jZGZfbG9nfGd1bWJlbF9sb2d8Z3VtYmVsX3JuZ3xoZWFkfGh5cGVyZ2VvbWV0cmljX2xvZ3xoeXBlcmdlb21ldHJpY19ybmd8aHlwb3R8aWZfZWxzZXxpbnRfc3RlcHxpbnZ8aW52X2NoaV9zcXVhcmVfY2NkZl9sb2d8aW52X2NoaV9zcXVhcmVfY2RmfGludl9jaGlfc3F1YXJlX2NkZl9sb2d8aW52X2NoaV9zcXVhcmVfbG9nfGludl9jaGlfc3F1YXJlX3JuZ3xpbnZfY2xvZ2xvZ3xpbnZfZ2FtbWFfY2NkZl9sb2d8aW52X2dhbW1hX2NkZnxpbnZfZ2FtbWFfY2RmX2xvZ3xpbnZfZ2FtbWFfbG9nfGludl9nYW1tYV9ybmd8aW52X2xvZ2l0fGludl9waGl8aW52X3NxcnR8aW52X3NxdWFyZXxpbnZfd2lzaGFydF9sb2d8aW52X3dpc2hhcnRfcm5nfGludmVyc2V8aW52ZXJzZV9zcGR8aXNfaW5mfGlzX25hbnxsYmV0YXxsZ2FtbWF8bGtqX2NvcnJfY2hvbGVza3lfbG9nfGxral9jb3JyX2Nob2xlc2t5X3JuZ3xsa2pfY29ycl9sb2d8bGtqX2NvcnJfcm5nfGxtZ2FtbWF8bG9nfGxvZzEwfGxvZzFtfGxvZzFtX2V4cHxsb2cxbV9pbnZfbG9naXR8bG9nMXB8bG9nMXBfZXhwfGxvZzJ8bG9nX2RldGVybWluYW50fGxvZ19kaWZmX2V4cHxsb2dfZmFsbGluZ19mYWN0b3JpYWx8bG9nX2ludl9sb2dpdHxsb2dfbWl4fGxvZ19yaXNpbmdfZmFjdG9yaWFsfGxvZ19zb2Z0bWF4fGxvZ19zdW1fZXhwfGxvZ2lzdGljX2NjZGZfbG9nfGxvZ2lzdGljX2NkZnxsb2dpc3RpY19jZGZfbG9nfGxvZ2lzdGljX2xvZ3xsb2dpc3RpY19ybmd8bG9naXR8bG9nbm9ybWFsX2NjZGZfbG9nfGxvZ25vcm1hbF9jZGZ8bG9nbm9ybWFsX2NkZl9sb2d8bG9nbm9ybWFsX2xvZ3xsb2dub3JtYWxfcm5nfG1hY2hpbmVfcHJlY2lzaW9ufG1heHxtZGl2aWRlX2xlZnRfdHJpX2xvd3xtZGl2aWRlX3JpZ2h0X3RyaV9sb3d8bWVhbnxtaW58bW9kaWZpZWRfYmVzc2VsX2ZpcnN0X2tpbmR8bW9kaWZpZWRfYmVzc2VsX3NlY29uZF9raW5kfG11bHRpX2dwX2Nob2xlc2t5X2xvZ3xtdWx0aV9ncF9sb2d8bXVsdGlfbm9ybWFsX2Nob2xlc2t5X2xvZ3xtdWx0aV9ub3JtYWxfY2hvbGVza3lfcm5nfG11bHRpX25vcm1hbF9sb2d8bXVsdGlfbm9ybWFsX3ByZWNfbG9nfG11bHRpX25vcm1hbF9ybmd8bXVsdGlfc3R1ZGVudF90X2xvZ3xtdWx0aV9zdHVkZW50X3Rfcm5nfG11bHRpbm9taWFsX2xvZ3xtdWx0aW5vbWlhbF9ybmd8bXVsdGlwbHlfbG9nfG11bHRpcGx5X2xvd2VyX3RyaV9zZWxmX3RyYW5zcG9zZXxuZWdfYmlub21pYWxfMl9jY2RmX2xvZ3xuZWdfYmlub21pYWxfMl9jZGZ8bmVnX2Jpbm9taWFsXzJfY2RmX2xvZ3xuZWdfYmlub21pYWxfMl9sb2d8bmVnX2Jpbm9taWFsXzJfbG9nX2xvZ3xuZWdfYmlub21pYWxfMl9sb2dfcm5nfG5lZ19iaW5vbWlhbF8yX3JuZ3xuZWdfYmlub21pYWxfY2NkZl9sb2d8bmVnX2Jpbm9taWFsX2NkZnxuZWdfYmlub21pYWxfY2RmX2xvZ3xuZWdfYmlub21pYWxfbG9nfG5lZ19iaW5vbWlhbF9ybmd8bmVnYXRpdmVfaW5maW5pdHl8bm9ybWFsX2NjZGZfbG9nfG5vcm1hbF9jZGZ8bm9ybWFsX2NkZl9sb2d8bm9ybWFsX2xvZ3xub3JtYWxfcm5nfG5vdF9hX251bWJlcnxudW1fZWxlbWVudHN8b3JkZXJlZF9sb2dpc3RpY19sb2d8b3JkZXJlZF9sb2dpc3RpY19ybmd8b3dlbnNfdHxwYXJldG9fY2NkZl9sb2d8cGFyZXRvX2NkZnxwYXJldG9fY2RmX2xvZ3xwYXJldG9fbG9nfHBhcmV0b19ybmd8cGFyZXRvX3R5cGVfMl9jY2RmX2xvZ3xwYXJldG9fdHlwZV8yX2NkZnxwYXJldG9fdHlwZV8yX2NkZl9sb2d8cGFyZXRvX3R5cGVfMl9sb2d8cGFyZXRvX3R5cGVfMl9ybmd8cGl8cG9pc3Nvbl9jY2RmX2xvZ3xwb2lzc29uX2NkZnxwb2lzc29uX2NkZl9sb2d8cG9pc3Nvbl9sb2d8cG9pc3Nvbl9sb2dfbG9nfHBvaXNzb25fbG9nX3JuZ3xwb2lzc29uX3JuZ3xwb3NpdGl2ZV9pbmZpbml0eXxwb3d8cHJvZHxxcl9RfHFyX1J8cXVhZF9mb3JtfHF1YWRfZm9ybV9kaWFnfHF1YWRfZm9ybV9zeW18cmFua3xyYXlsZWlnaF9jY2RmX2xvZ3xyYXlsZWlnaF9jZGZ8cmF5bGVpZ2hfY2RmX2xvZ3xyYXlsZWlnaF9sb2d8cmF5bGVpZ2hfcm5nfHJlcF9hcnJheXxyZXBfbWF0cml4fHJlcF9yb3dfdmVjdG9yfHJlcF92ZWN0b3J8cmlzaW5nX2ZhY3RvcmlhbHxyb3VuZHxyb3d8cm93c3xyb3dzX2RvdF9wcm9kdWN0fHJvd3NfZG90X3NlbGZ8c2NhbGVkX2ludl9jaGlfc3F1YXJlX2NjZGZfbG9nfHNjYWxlZF9pbnZfY2hpX3NxdWFyZV9jZGZ8c2NhbGVkX2ludl9jaGlfc3F1YXJlX2NkZl9sb2d8c2NhbGVkX2ludl9jaGlfc3F1YXJlX2xvZ3xzY2FsZWRfaW52X2NoaV9zcXVhcmVfcm5nfHNkfHNlZ21lbnR8c2lufHNpbmd1bGFyX3ZhbHVlc3xzaW5ofHNpemV8c2tld19ub3JtYWxfY2NkZl9sb2d8c2tld19ub3JtYWxfY2RmfHNrZXdfbm9ybWFsX2NkZl9sb2d8c2tld19ub3JtYWxfbG9nfHNrZXdfbm9ybWFsX3JuZ3xzb2Z0bWF4fHNvcnRfYXNjfHNvcnRfZGVzY3xzb3J0X2luZGljZXNfYXNjfHNvcnRfaW5kaWNlc19kZXNjfHNxcnR8c3FydDJ8c3F1YXJlfHNxdWFyZWRfZGlzdGFuY2V8c3RlcHxzdHVkZW50X3RfY2NkZl9sb2d8c3R1ZGVudF90X2NkZnxzdHVkZW50X3RfY2RmX2xvZ3xzdHVkZW50X3RfbG9nfHN0dWRlbnRfdF9ybmd8c3ViX2NvbHxzdWJfcm93fHN1bXx0YWlsfHRhbnx0YW5ofHRjcm9zc3Byb2R8dGdhbW1hfHRvX2FycmF5XzFkfHRvX2FycmF5XzJkfHRvX21hdHJpeHx0b19yb3dfdmVjdG9yfHRvX3ZlY3Rvcnx0cmFjZXx0cmFjZV9nZW5fcXVhZF9mb3JtfHRyYWNlX3F1YWRfZm9ybXx0cmlnYW1tYXx0cnVuY3x1bmlmb3JtX2NjZGZfbG9nfHVuaWZvcm1fY2RmfHVuaWZvcm1fY2RmX2xvZ3x1bmlmb3JtX2xvZ3x1bmlmb3JtX3JuZ3x2YXJpYW5jZXx2b25fbWlzZXNfbG9nfHZvbl9taXNlc19ybmd8d2VpYnVsbF9jY2RmX2xvZ3x3ZWlidWxsX2NkZnx3ZWlidWxsX2NkZl9sb2d8d2VpYnVsbF9sb2d8d2VpYnVsbF9ybmd8d2llbmVyX2xvZ3x3aXNoYXJ0X2xvZ3x3aXNoYXJ0X3JuZylcXGIiLGU6aGxqcy5JTU1FRElBVEVfUkUscjoxMH0se2NOOiJmdW5jdGlvbiIsYjoiKD86YmVybm91bGxpfGJlcm5vdWxsaV9sb2dpdHxiZXRhfGJldGFfYmlub21pYWx8Ymlub21pYWx8Ymlub21pYWxfbG9naXR8Y2F0ZWdvcmljYWx8Y2F0ZWdvcmljYWxfbG9naXR8Y2F1Y2h5fGNoaV9zcXVhcmV8ZGlyaWNobGV0fGRvdWJsZV9leHBvbmVudGlhbHxleHBfbW9kX25vcm1hbHxleHBvbmVudGlhbHxmcmVjaGV0fGdhbW1hfGdhdXNzaWFuX2RsbV9vYnN8Z3VtYmVsfGh5cGVyZ2VvbWV0cmljfGludl9jaGlfc3F1YXJlfGludl9nYW1tYXxpbnZfd2lzaGFydHxsa2pfY29ycnxsa2pfY29ycl9jaG9sZXNreXxsb2dpc3RpY3xsb2dub3JtYWx8bXVsdGlfZ3B8bXVsdGlfZ3BfY2hvbGVza3l8bXVsdGlfbm9ybWFsfG11bHRpX25vcm1hbF9jaG9sZXNreXxtdWx0aV9ub3JtYWxfcHJlY3xtdWx0aV9zdHVkZW50X3R8bXVsdGlub21pYWx8bmVnX2Jpbm9taWFsfG5lZ19iaW5vbWlhbF8yfG5lZ19iaW5vbWlhbF8yX2xvZ3xub3JtYWx8b3JkZXJlZF9sb2dpc3RpY3xwYXJldG98cGFyZXRvX3R5cGVfMnxwb2lzc29ufHBvaXNzb25fbG9nfHJheWxlaWdofHNjYWxlZF9pbnZfY2hpX3NxdWFyZXxza2V3X25vcm1hbHxzdHVkZW50X3R8dW5pZm9ybXx2b25fbWlzZXN8d2VpYnVsbHx3aWVuZXJ8d2lzaGFydClcXGIiLGU6aGxqcy5JTU1FRElBVEVfUkUscjoxMH0se2NOOiJrZXl3b3JkIixiOiIoPzpmb3J8aW58d2hpbGV8aWZ8dGhlbnxlbHNlfHJldHVybnxsb3dlcnx1cHBlcnxwcmludHxpbmNyZW1lbnRfbG9nX3Byb2J8aW50ZWdyYXRlX29kZXxyZWplY3QpXFxiIixlOmhsanMuSU1NRURJQVRFX1JFLHI6MTB9LHtjTjoia2V5d29yZCIsYjoiKD86aW50fHJlYWx8dmVjdG9yfHNpbXBsZXh8dW5pdF92ZWN0b3J8b3JkZXJlZHxwb3NpdGl2ZV9vcmRlcmVkfHJvd192ZWN0b3J8bWF0cml4fGNob2xlc2t5X2ZhY3Rvcl9jb3Z8Y2hvbGVza3lfZmFjdG9yX2NvcnJ8Y29ycl9tYXRyaXh8Y292X21hdHJpeHx2b2lkKVxcYiIsZTpobGpzLklNTUVESUFURV9SRSxyOjV9LHtjTjoia2V5d29yZCIsYjoiKD86ZnVuY3Rpb25zfGRhdGF8dHJhbnNmb3JtZWRcXHMrZGF0YXxwYXJhbWV0ZXJzfHRyYW5zZm9ybWVkXFxzK3BhcmFtZXRlcnN8bW9kZWx8Z2VuZXJhdGVkXFxzK3F1YW50aXRpZXMpXFxiIixlOmhsanMuSU1NRURJQVRFX1JFLHI6NX1dfX07aGxqcy5MQU5HVUFHRVMueG1sPWZ1bmN0aW9uKCl7dmFyIGI9IltBLVphLXowLTlcXC5fOi1dKyI7dmFyIGE9e2VXOnRydWUsYzpbe2NOOiJhdHRyaWJ1dGUiLGI6YixyOjB9LHtiOic9IicsckI6dHJ1ZSxlOiciJyxjOlt7Y046InZhbHVlIixiOiciJyxlVzp0cnVlfV19LHtiOiI9JyIsckI6dHJ1ZSxlOiInIixjOlt7Y046InZhbHVlIixiOiInIixlVzp0cnVlfV19LHtiOiI9IixjOlt7Y046InZhbHVlIixiOiJbXlxccy8+XSsifV19XX07cmV0dXJue2NJOnRydWUsZE06e2M6W3tjTjoicGkiLGI6IjxcXD8iLGU6IlxcPz4iLHI6MTB9LHtjTjoiZG9jdHlwZSIsYjoiPCFET0NUWVBFIixlOiI+IixyOjEwLGM6W3tiOiJcXFsiLGU6IlxcXSJ9XX0se2NOOiJjb21tZW50IixiOiI8IS0tIixlOiItLT4iLHI6MTB9LHtjTjoiY2RhdGEiLGI6IjxcXCFcXFtDREFUQVxcWyIsZToiXFxdXFxdPiIscjoxMH0se2NOOiJ0YWciLGI6IjxzdHlsZSg/PVxcc3w+fCQpIixlOiI+IixrOnt0aXRsZTp7c3R5bGU6MX19LGM6W2FdLHN0YXJ0czp7Y046ImNzcyIsZToiPC9zdHlsZT4iLHJFOnRydWUsc0w6ImNzcyJ9fSx7Y046InRhZyIsYjoiPHNjcmlwdCg/PVxcc3w+fCQpIixlOiI+IixrOnt0aXRsZTp7c2NyaXB0OjF9fSxjOlthXSxzdGFydHM6e2NOOiJqYXZhc2NyaXB0IixlOiI8XC9zY3JpcHQ+IixyRTp0cnVlLHNMOiJqYXZhc2NyaXB0In19LHtjTjoidmJzY3JpcHQiLGI6IjwlIixlOiIlPiIsc0w6InZic2NyaXB0In0se2NOOiJ0YWciLGI6IjwvPyIsZToiLz8+IixjOlt7Y046InRpdGxlIixiOiJbXiAvPl0rIn0sYV19XX19fSgpOwpobGpzLmluaXRIaWdobGlnaHRpbmdPbkxvYWQoKTsKCg=="></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>


<link href="data:text/css;charset=utf-8,body%2C%20td%20%7B%0Afont%2Dfamily%3A%20sans%2Dserif%3B%0Abackground%2Dcolor%3A%20white%3B%0Afont%2Dsize%3A%2013px%3B%0A%7D%0Abody%20%7B%0Amax%2Dwidth%3A%20800px%3B%0Amargin%3A%200%20auto%3B%0Apadding%3A%201em%201em%202em%3B%0Aline%2Dheight%3A%2020px%3B%0A%7D%0A%0Adiv%23TOC%20li%20%7B%0Alist%2Dstyle%3Anone%3B%0Abackground%2Dimage%3Anone%3B%0Abackground%2Drepeat%3Anone%3B%0Abackground%2Dposition%3A0%3B%0A%7D%0A%0Ap%2C%20pre%20%7B%20margin%3A%200em%200em%201em%3B%0A%7D%0A%0Aimg%2C%20table%20%7B%0Amargin%3A%200em%20auto%201em%3B%0A%7D%0Ap%20%7B%0Atext%2Dalign%3A%20justify%3B%0A%7D%0Att%2C%20code%2C%20pre%20%7B%0Afont%2Dfamily%3A%20%27DejaVu%20Sans%20Mono%27%2C%20%27Droid%20Sans%20Mono%27%2C%20%27Lucida%20Console%27%2C%20Consolas%2C%20Monaco%2C%20monospace%3B%0A%7D%0Ah1%2C%20h2%2C%20h3%2C%20h4%2C%20h5%2C%20h6%20%7B%20font%2Dfamily%3A%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Amargin%3A%201%2E2em%200em%200%2E6em%200em%3B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Ah1%2Etitle%20%7B%0Afont%2Dsize%3A%20250%25%3B%0Afont%2Dweight%3A%20normal%3B%0Acolor%3A%20%2387b13f%3B%0Aline%2Dheight%3A%201%2E1em%3B%0Amargin%2Dtop%3A%200px%3B%0Aborder%2Dbottom%3A%200px%3B%0A%7D%0Ah1%20%7B%0Afont%2Dsize%3A%20160%25%3B%0Afont%2Dweight%3A%20normal%3B%0Aline%2Dheight%3A%201%2E4em%3B%0Aborder%2Dbottom%3A%201px%20%231a81c2%20solid%3B%0A%7D%0Ah2%20%7B%0Afont%2Dsize%3A%20130%25%3B%20%7D%0Ah1%2C%20h2%2C%20h3%20%7B%0Acolor%3A%20%231a81c2%3B%0A%7D%0Ah3%2C%20h4%2C%20h5%2C%20h6%20%7B%0Afont%2Dsize%3A115%25%3B%0A%7D%20%0A%0Aa%20%7B%20color%3A%20%231a81c2%3B%20%7D%0Aa%3Aactive%20%7B%20outline%3A%20none%3B%20%7D%0Aa%3Avisited%20%7B%20color%3A%20%231a81c2%3B%20%7D%0Aa%3Ahover%20%7B%20color%3A%20%234c94c2%3B%20%7D%0Apre%2C%20img%20%7B%0Amax%2Dwidth%3A%20100%25%3B%0Adisplay%3A%20block%3B%0A%7D%0Apre%20%7B%0Aborder%3A%200px%20none%3B%0Abackground%2Dcolor%3A%20%23F8F8F8%3B%0Awhite%2Dspace%3A%20pre%3B%0Aoverflow%2Dx%3A%20auto%3B%0A%7D%0Apre%20code%20%7B%0Aborder%3A%201px%20%23aaa%20dashed%3B%0Abackground%2Dcolor%3A%20white%3B%0Adisplay%3A%20block%3B%0Apadding%3A%201em%3B%20color%3A%20%23111%3B%0Aoverflow%2Dx%3A%20inherit%3B%0A%7D%0A%0Apre%20code%5Bclass%5D%20%7B%0Abackground%2Dcolor%3A%20inherit%3B%0A%7D%0A%0Apre%5Bclass%5D%20code%20%7B%0Abackground%2Dcolor%3A%20inherit%3B%0A%7D%0A%0Acode%20%7B%20background%2Dcolor%3A%20transparent%3B%0Acolor%3A%20%2387b13f%3B%0Afont%2Dsize%3A%2092%25%3B%0A%7D%0A%0Atable%2C%20td%2C%20th%20%7B%0Aborder%3A%20none%3B%0Apadding%3A%200%200%2E5em%3B%0A%7D%0A%0Atbody%20tr%3Anth%2Dchild%28odd%29%20td%20%7B%0Abackground%2Dcolor%3A%20%23F8F8F8%3B%0A%7D%0Ablockquote%20%7B%0Acolor%3A%23666666%3B%0Amargin%3A0%3B%0Apadding%2Dleft%3A%201em%3B%0Aborder%2Dleft%3A%200%2E5em%20%23EEE%20solid%3B%0A%7D%0Ahr%20%7B%0Aheight%3A%200px%3B%0Aborder%2Dbottom%3A%20none%3B%0Aborder%2Dtop%2Dwidth%3A%20thin%3B%0Aborder%2Dtop%2Dstyle%3A%20dotted%3B%0Aborder%2Dtop%2Dcolor%3A%20%23999999%3B%0A%7D%0Aspan%2Eheader%2Dsection%2Dnumber%20%7B%0Apadding%2Dright%3A%201em%3B%0A%7D%0Aspan%2Etoc%2Dsection%2Dnumber%3A%3Aafter%20%7B%0Acontent%3A%20%22%20%22%3B%0Awhite%2Dspace%3A%20pre%3B%0A%7D%0A%40media%20print%20%7B%0A%2A%20%7B%0Abackground%3A%20transparent%20%21important%3B%0Acolor%3A%20black%20%21important%3B%0Afilter%3Anone%20%21important%3B%0A%2Dms%2Dfilter%3A%20none%20%21important%3B%0A%7D%0Abody%20%7B%0Afont%2Dsize%3A12pt%3B%0Amax%2Dwidth%3A100%25%3B%0A%7D%0Aa%2C%20a%3Avisited%20%7B%0Atext%2Ddecoration%3A%20underline%3B%0A%7D%0Ahr%20%7B%0Avisibility%3A%20hidden%3B%0Apage%2Dbreak%2Dbefore%3A%20always%3B%0A%7D%0Apre%2C%20blockquote%20%7B%0Apadding%2Dright%3A%201em%3B%0Apage%2Dbreak%2Dinside%3A%20avoid%3B%0A%7D%0Atr%2C%20img%20%7B%0Apage%2Dbreak%2Dinside%3A%20avoid%3B%0A%7D%0Aimg%20%7B%0Amax%2Dwidth%3A%20100%25%20%21important%3B%0A%7D%0A%40page%20%3Aleft%20%7B%0Amargin%3A%2015mm%2020mm%2015mm%2010mm%3B%0A%7D%0A%40page%20%3Aright%20%7B%0Amargin%3A%2015mm%2010mm%2015mm%2020mm%3B%0A%7D%0Ap%2C%20h2%2C%20h3%20%7B%0Aorphans%3A%203%3B%20widows%3A%203%3B%0A%7D%0Ah2%2C%20h3%20%7B%0Apage%2Dbreak%2Dafter%3A%20avoid%3B%0A%7D%0A%7D%0A" rel="stylesheet" type="text/css" />

<script type="text/javascript">
document.addEventListener("DOMContentLoaded", function() {
  var links = document.links;  
  for (var i = 0, linksLength = links.length; i < linksLength; i++)
    if(links[i].hostname != window.location.hostname)
      links[i].target = '_blank';
});
</script>

</head>

<body>


<div id="header">
<h1 class="title">Picewise and segmented regression with <code>R</code></h1>
<h4 class="author"><em>Juan R Gonzalez</em></h4>
</div>

<h1>Contents</h1>
<div id="TOC">
<ul>
<li><a href="#introduction"><span class="toc-section-number">1</span> Introduction</a></li>
<li><a href="#picewise-regression"><span class="toc-section-number">2</span> Picewise regression</a></li>
<li><a href="#estimating-procedures"><span class="toc-section-number">3</span> Estimating procedures</a><ul>
<li><a href="#iterative-searching"><span class="toc-section-number">3.1</span> Iterative searching</a></li>
</ul></li>
<li><a href="#segmented-regression"><span class="toc-section-number">4</span> Segmented regression</a></li>
<li><a href="#exercise-to-deliver"><span class="toc-section-number">5</span> Exercise (to deliver)</a></li>
<li><a href="#references"><span class="toc-section-number">6</span> References</a></li>
<li><a href="#session-information"><span class="toc-section-number">7</span> Session information</a></li>
</ul>
</div>

<!-- to compile this:
library("rmarkdown");
render("rr-auhtoring.Rmd", output_format="all")
or just call make
-->
<div id="introduction" class="section level1">
<h1><span class="header-section-number">1</span> Introduction</h1>
<blockquote>
<p><strong>Objectives</strong></p>
<ul>
<li>Understand the concept of picewise and segmented regression</li>
<li>Learn how to perform picewise and segmented regression with <code>R</code></li>
<li>Peform data analyses where the scientific question is to determine changes in the linear relationship of two continuous variables</li>
</ul>
</blockquote>
</div>
<div id="picewise-regression" class="section level1">
<h1><span class="header-section-number">2</span> Picewise regression</h1>
<p>Piecewise regression comes about when you have breakpoints, where there are clearly two different linear relationships in the data with a sudden, sharp change in directionality. This crops up occasionally in biomedicine when dealing with, for example, cholesterol level and fat or calories intake. There is initially a rapid incress of cholesterol level as fat or calories consumption increases (cholesterol incressing becomes limiting at certain levels).</p>
<p>If you Google R piecewise regression, you may get a variety of methods and advice on how to run a piecewise regression. Essentially, you can do it manually or use different <code>R</code> packages to run the regression. Herein, we will review two methods: brute force iterative approaches (as in The R Book by Crawley that can help to better understand the process of how to fit the models) and the <code>segmented</code> package. Using these approaches allows you to statistically estimate the breakpoint, which is better than just eyeballing it and fitting two models around what you think is the breakpoint. As we always comment on class, let statistics do the work for you objectively.</p>
<p>Let us start by illustrating the need for using a piecewise approach to our linear regression model. Consider the following plot of the calories intake and the cholesterol level:</p>
<pre class="r"><code>cholesterol &lt;- read.delim(&quot;../data/cholesterol.txt&quot;)
plot(cholesterol$calories, cholesterol$cholesterol, xlab=&quot;Calories intake&quot;, 
     ylab=&quot;Cholesterol level&quot;, pch=16)
lin.mod &lt;- lm(cholesterol~calories, data=cholesterol)
abline(lin.mod)</code></pre>
<p><img src="data:image/png;base64,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" /></p>
<p>The estimated regression line appears to fit the data fairly well in some overall sense, but it is clear that we could do better. The residuals versus fits plot also indicates that linear model is not fine:</p>
<pre class="r"><code>plot(lin.mod$fitted.values, lin.mod$residuals, xlab=&quot;Fitted values&quot;,
     ylab=&quot;Standardized residuals&quot;, pch=16)
abline(h=0, lty=2)</code></pre>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAqAAAAHgCAMAAABNUi8GAAAAXVBMVEUAAAAAADoAAGYAOjoAOpAAZrY6AAA6ADo6AGY6Ojo6kNtmAABmADpmZmZmtrZmtv+QOgCQkGaQ2/+2ZgC225C2/7a2///bkDrbtmbb////tmb/25D//7b//9v////VpKAIAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAP8ElEQVR4nO3djXaiShpGYdInpnu05+jITDPxh/u/zEOBoCaiUFAfb8F+1urTmekkFZMdhBKKJAeEJVN/AcAzBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBApp/QI975LSjz+BvhzgXq9As2RdvXGo3wDC6hPoeddkmb1/BvhigK/6BHrabOs3DzzJwwRbUEjruQ962YS27oMmQCdBAi2e5KvP3rr9ZNYKnQQK1PrTYa6MA+2/5cayBQo0LQ7ejx9J8rYf5dNhscIEWvb5c3834TTg02G5ggR62hTH7unKvdk2zUSg6CRQoNt6LrRtop5A0Umgp/hi65mxBQ1v/kebYQI9bX78KTehh7ajpLl/X20sYD4k1DTToZpMWo306fDIEmbsmKiPGIH6vOMkn26ZCNTnHSf5dAs1/z4JNG6z75NAoY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIY1AIS1QoOddtTp1y12SCBQdhQk0q28T336/+D6fDssVJNDLXeYcbuSFQYIEenMLWW6FiEHYgkJaqH3QyyaUfVAME+go/rSpjuJbtp8Eio6YB4U040CTxiifDrMXNNDjx7btnwgUnQSaZrpuKZlmwhBhtqCXg3e2oBgq2FG8O34nUAwVbB80fdsTqC8O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" /></p>
<p>We could instead split our original scatter plot into two pieces considereing calories intake above and below 2950 aproximately, but connected lines, one for each piece. As you can see, the estimated two-piece function, connected at those points (the dashed line) appears to do a much better job of describing the trend in the data. So, lets formulate a piecewise linear regression model for our data</p>
<p><span class="math display">\[y_i=\beta_0+\beta_1x_{i1}+\beta_2(x_{i1}-2950)x_{i2}+\epsilon_i\]</span></p>
<p>Alternatively, we could write our formulated piecewise model as:</p>
<p><span class="math display">\[y_i=\beta_0+\beta_1x_{i1}+\beta_2x^{\ast}_{i2}+\epsilon_i\]</span></p>
<p>where:</p>
<ul>
<li><span class="math inline">\(y_i\)</span> is the cholesterol level of individual <span class="math inline">\(i\)</span></li>
<li><span class="math inline">\(x_{i1}\)</span> is the calories intake of individual <span class="math inline">\(i\)</span></li>
<li><span class="math inline">\(x_{i2}\)</span> is a dummy variable <span class="math inline">\((0, \mbox{ if } x_{i1} \le 2950 \mbox{ and } 1, \mbox{ if } x_{i1} &gt; 2950)\)</span> of individual <span class="math inline">\(i\)</span></li>
<li><span class="math inline">\(x^{\ast}_{i2}\)</span> denotes the <span class="math inline">\((x_{i1} - 2950)x_{i2}\)</span> the interaction term</li>
</ul>
<p>and the independent error terms <span class="math inline">\(\epsilon_i\)</span> follow a normal distribution with mean 0 and equal variance <span class="math inline">\(\sigma^2\)</span>. The model can be estimated using different methods. Let us describre two of them.</p>
</div>
<div id="estimating-procedures" class="section level1">
<h1><span class="header-section-number">3</span> Estimating procedures</h1>
<div id="iterative-searching" class="section level2">
<h2><span class="header-section-number">3.1</span> Iterative searching</h2>
<p>For illustrating purposes and for the sake of the simplicity, let us illustrate how to estimate the first breakpoint. The key point of the iterative search procedure described by Crawley is choosing the breakpoints. In this case, we can eyeball the data and say that the second breakpoint is somewhere between 2900 and 3000. Choose a wider range than you might think, just to be safe. Create a variable called breaks to hold these breakpoints:</p>
<pre class="r"><code>breaks &lt;- with(cholesterol, calories[which(calories &gt;= 2850 &amp; calories &lt;= 2950)])</code></pre>
<p>Now were going to iteratively search these breakpoints for the model that has the lowest residual MSE, using that as our criteria for the best model. Create an empty container for MSE values from each model, and use an iteration to run a linear regression for each possible breakpoint. Formulate the linear model exactly like the above formula.</p>
<pre class="r"><code>mse &lt;- numeric(length(breaks))
for(i in 1:length(breaks)){
 piece.mod &lt;- lm(cholesterol ~ calories*(calories &lt; breaks[i]) + 
                    calories*(calories&gt;=breaks[i]), data=cholesterol)
 mse[i] &lt;- mean(piece.mod$residuals^2)
}
mse</code></pre>
<pre><code>## [1] 241.6946 269.1082 172.8291 227.9307 224.0628</code></pre>
<p>If we plot MSE by breakpoints, we can visually estimate the breakpoint as the lowest point on the curve:</p>
<pre class="r"><code>plot(breaks, mse, xlab=&quot;calories&quot;, ylab=&quot;MSE&quot;)</code></pre>
<p><img src="data:image/png;base64,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" /></p>
<p>As expected the optimal break is 2900.</p>
<pre class="r"><code>breaks[which(mse==min(mse))]</code></pre>
<pre><code>## [1] 2900</code></pre>
<p>The picewise regression model is then estimated by executing:</p>
<pre class="r"><code>piece.mod2 &lt;- lm(cholesterol ~ calories*(calories &lt; 2900) 
                 + calories*(calories &gt; 2900), data=cholesterol)
summary(piece.mod2)</code></pre>
<pre><code>## 
## Call:
## lm(formula = cholesterol ~ calories * (calories &lt; 2900) + calories * 
##     (calories &gt; 2900), data = cholesterol)
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -19.4583 -10.0748  -0.5613  10.1182  28.9310 
## 
## Coefficients: (1 not defined because of singularities)
##                                Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)                   1.906e+02  2.303e+02   0.828    0.417    
## calories                      2.909e-02  7.925e-02   0.367    0.717    
## calories &lt; 2900TRUE          -1.467e+03  2.587e+02  -5.671 1.25e-05 ***
## calories &gt; 2900TRUE          -1.440e+01  1.743e+01  -0.826    0.418    
## calories:calories &lt; 2900TRUE  4.904e-01  9.017e-02   5.438 2.15e-05 ***
## calories:calories &gt; 2900TRUE         NA         NA      NA       NA    
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Residual standard error: 14.4 on 21 degrees of freedom
## Multiple R-squared:  0.9647, Adjusted R-squared:  0.9579 
## F-statistic: 143.4 on 4 and 21 DF,  p-value: 6.327e-15</code></pre>
<p>The NA values arise from singularities and can be omitted from the interpretation. The intercept for the line when calories intake <span class="math inline">\(&lt;\)</span> 2900 is (Intercept) + calories &lt; 2900TRUE, or -1276.6. The slope of the line when calories intake <span class="math inline">\(&lt;\)</span> 2900 is calories + calories:calories &lt; 2900TRUE, or 0.52. So, when x is less than 2900, the formula is -1276.6 + 0.52*calories. For the second segmente (e.g intake <span class="math inline">\(&gt;\)</span> 2900), the intercept is (Intercept) + calories &gt; 2900TRUE, or 176.24 and the slope is just the variable calories, or 0.0291.</p>
<p>The predictive model can be visualy represented by executing:</p>
<pre class="r"><code>with(cholesterol, plot(calories, cholesterol, pch=16,
                       xlab=&quot;calories intake&quot;, ylab=&quot;cholesterol level&quot;))
curve( -1276.6 + 0.52*x, add=T, from=2600, to=2900, col=&quot;blue&quot;)
curve(176.2 + 0.0291*x, add=T, from=2900, to=3100, col=&quot;blue&quot;)
abline(v=2900, lty=3)</code></pre>
<p><img src="data:image/png;base64,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" /></p>
<p>Notice that the segments were not constrained to <em>be touching</em> or continuous. This is inherent in the algorithm that we used. The next method will address this problem.</p>
</div>
</div>
<div id="segmented-regression" class="section level1">
<h1><span class="header-section-number">4</span> Segmented regression</h1>
<p>The procedure of <em>segmented regression</em> uses maximum likelihood to fit a somewhat different parameterization of the model:</p>
<p><span class="math display">\[ y \sim \beta_1x + \beta_2(x-c) + \gamma I(x&gt;c)\]</span></p>
<p><span class="math inline">\(I(x &gt; c)\)</span> is a dummy variable as above, so when <span class="math inline">\(x &lt; c\)</span>, the model is essentially:</p>
<p><span class="math display">\[ y \sim \beta_1x + \beta_2(x-c)\]</span> The <span class="math inline">\(\gamma\)</span> term is simply a measure of the distance between the end of the first segment and the beginning of the next. The model converges when <span class="math inline">\(\gamma\)</span> is minimized, thus this method constrains the segments to be (nearly) continuous. This is a major difference from the iterative approach in Method above.</p>
<p>This approach is implemented in the <code>segmented</code> <code>R</code>package. To use this method, you first fit a generic linear model. You then use the <code>segmented( )</code> function to fit the piecewise regression. The <code>segmented( )</code> function takes for its arguments the generic linear model, <code>seg.Z</code> which is a one sided formula describing the predictor with a segment (we only have one predictor, x, which has the segment), and <code>psi</code>, which is a starting value of the breakpoint (as in other estimating methods you need to supply a best-guess estimate ot that parameter - in other words, the point you think the breakpoint can be located). More complicated models are a bit more complicated in terms of arguments, but this is a good starting example.</p>
<p>In our case, x is the predictor with a segment (it is the only predictor) and based on the first scatterplot (the first graph on the page). One might guess that the breakpoint is 2900. Therefore, the model is fitted by executing:</p>
<pre class="r"><code>library(segmented)
lin.mod &lt;- lm(cholesterol ~ calories, data=cholesterol)
segmented.mod &lt;- segmented(lin.mod, seg.Z = ~ calories, psi=2900)
segmented.mod</code></pre>
<pre><code>## Call: segmented.lm(obj = lin.mod, seg.Z = ~calories, psi = 2900)
## 
## Meaningful coefficients of the linear terms:
## (Intercept)     calories  U1.calories  
##  -1363.6370       0.5519      -0.7057  
## 
## Estimated Break-Point(s):
## psi1.calories  
##          2974</code></pre>
<p>Notice that in that case the point were the line is changing is <code>segmented.mod$psi[2]</code> which is different from the one we obainted by using iterative seraching. This will be further investigate in the Exercises you have to deliver. In this case the figure illustrates (dashed lines) that this method better fits our data. IMPORTAN NOTE: <code>U1.x</code> is not the slope of the second segment. It is the difference in slopes between the second and first segment. So if your coefficients are calories = 0.5519 and U1.calories = -0.70571, then the slope of the second segment is 0.55190.7057=-0.1538 as you can verify it by executing</p>
<pre class="r"><code>slope(segmented.mod)</code></pre>
<pre><code>## $calories
##           Est. St.Err. t value CI(95%).l CI(95%).u
## slope1  0.5519 0.03329  16.580    0.4829    0.6209
## slope2 -0.1538 0.15020  -1.024   -0.4653    0.1577</code></pre>
<pre class="r"><code>plot(cholesterol$calories, cholesterol$cholesterol, xlab=&quot;Calories intake&quot;, 
     ylab=&quot;Cholesterol level&quot;, pch=16)
lin.mod &lt;- lm(cholesterol~calories, data=cholesterol)
abline(lin.mod)
lines(cholesterol$calories, predict(segmented.mod), lty=2)</code></pre>
<p><img src="data:image/png;base64,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" /></p>
<p>Further information about the <code>segmented regression</code> can be found in this paper <a href="http://onlinelibrary.wiley.com/doi/10.1002/sim.1545/pdf">Estimating regression models with unknown break-points</a> (this is a hyperlink to the paper that is freely available at Statistics in Medicine).</p>
</div>
<div id="exercise-to-deliver" class="section level1">
<h1><span class="header-section-number">5</span> Exercise (to deliver)</h1>
<hr />
<p>Data for exercises are in the repository <a href="https://github.com/isglobal-brge/TeachingMaterials/tree/master/Longitudinal_data_analysis/data" class="uri">https://github.com/isglobal-brge/TeachingMaterials/tree/master/Longitudinal_data_analysis/data</a></p>
<p><strong>Exercise 1:</strong> Read the paper <a href="http://onlinelibrary.wiley.com/doi/10.1002/sim.1545/pdf">Estimating regression models with unknown break-points</a> and answer these questions:</p>
<ul>
<li>Can this method detect the existence of a change point?</li>
<li>What are the main limitations of this method in practice? Enumerate a couple of them</li>
<li>Figure 4 (bottom left) there are a longitudinal data where x-axis represents age and y-axis stands for the logit of having bronquitis. How many changes would you estimate to evaluate the relationship between the years of exposition and the probability of developing bronquitis? How many does the autor test? How may does he consider should be analyzed? Why does he conclude that (read pages 3067 and 3068).</li>
</ul>
<p><strong>Exercise 2:</strong> By using the <code>cholesterol</code> dataset I have used in this material (that is available at the folder of data for exercises) repeat the iterative searching procedure to better estimate the point of change. Explain what have you changed in the code and why.</p>
<p><strong>Exercise 3:</strong> The funcion <code>slope</code> in the <code>segmented</code> package contains an argument that is called <code>APC</code> that can be used for estimating the annual percentage change of the segments. Use data available at <code>mamaCat.txt</code> to perform a joinpoint regression analysis by using <code>segmented</code> regression and estimate the APC of each segment. Remember that the data contains breast cancer mortality of females in Catalonia of the period 1975-1997. Each column contains the next variables: gender, year of mortality, number of deaths and at-risk population. NOTE: investigate whether <code>segmented</code> regression allows the use of different models than <code>lm</code>.</p>
<p><strong>Exercise 4:</strong> [<strong>Segmented regression adjusted by other covariates</strong>]. Researchers have performed an experiment by collecting data of plants in three different organs accross time. They are interested in determining the time when these organs stop growing (or even become small). NOTE: this is important since it implies that they are looking for a single change point - observe that researches have their own scientific question and you must know how to translate it into a statistical one. Data are available in the obejct <code>plant</code> that is in the <code>segmented</code> library (you can load them by using <em>data(plant)</em> ). The organ is in the variable <code>group</code>. Perform the statistical analysis that is required to address researchers question. Do not forget to create a plot tu visually evaluate the evolution accross time for each type of plant. Write up a little conclusion about the study (3-4 lines as much).</p>
<hr />
</div>
<div id="references" class="section level1">
<h1><span class="header-section-number">6</span> References</h1>
<ul>
<li><a href="http://onlinelibrary.wiley.com/doi/10.1002/sim.1545/pdf"><code>Segmented regression paper</code></a></li>
<li>The <a href="https://cran.r-project.org/web/packages/segmented/"><code>segmented</code></a> package</li>
</ul>
</div>
<div id="session-information" class="section level1">
<h1><span class="header-section-number">7</span> Session information</h1>
<pre><code>## R version 3.3.2 (2016-10-31)
## Platform: x86_64-w64-mingw32/x64 (64-bit)
## Running under: Windows 10 x64 (build 14393)
## 
## locale:
## [1] LC_COLLATE=Spanish_Spain.1252  LC_CTYPE=Spanish_Spain.1252   
## [3] LC_MONETARY=Spanish_Spain.1252 LC_NUMERIC=C                  
## [5] LC_TIME=Spanish_Spain.1252    
## 
## attached base packages:
## [1] stats     graphics  grDevices utils     datasets  methods   base     
## 
## other attached packages:
## [1] segmented_0.5-1.4 knitr_1.15.1      BiocStyle_2.2.1  
## 
## loaded via a namespace (and not attached):
##  [1] backports_1.0.5 magrittr_1.5    rprojroot_1.2   tools_3.3.2    
##  [5] htmltools_0.3.5 yaml_2.1.14     Rcpp_0.12.9     stringi_1.1.2  
##  [9] rmarkdown_1.3   stringr_1.2.0   digest_0.6.11   evaluate_0.10</code></pre>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
